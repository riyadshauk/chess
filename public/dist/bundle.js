!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);class o{constructor(e="blank"){this.name="empty",this.color=e,this.getPossibleMoves=((e,t,r)=>{return e=>!1})}}class n{get board(){return Object.assign([],this._board)}get rankCount(){return this._board.length}get fileCount(){return this._board[0].length>0?this._board[0].length:1}constructor(e){this._board=e instanceof n?e._board:e||[["r0","h0","b0","q0","k0","b0","h0","r0"],["p0","p0","p0","p0","p0","p0","p0","p0"],[" "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "],[" "," "," "," "," "," "," "," "],["P0","P0","P0","P0","P0","P0","P0","P0"],["R0","H0","B0","Q0","K0","B0","H0","R0"]],this.getEncoding=(e=>this._board[e.r][e.c]),this.setEncoding=((e,t)=>{e.r>-1&&e.r<this._board.length&&e.c>-1&&e.c<this._board[0].length&&(this._board[e.r][e.c]=t)})}}class s{get player(){return this._player}set player(e){this._player=e}get board(){return this._board.board}constructor(e){this._board=new n(e),this.getEncoding=(e=>this._board.getEncoding(e)),this._player=c,this.rankCount=this._board.rankCount,this.fileCount=this._board.fileCount}}class i{array2d(e,t){const r=[];for(let o=0;o<e;o++){r.push([]);for(let n=0;n<e;n++)r[o].push(t)}return r}initializeFalseGrid(e){return this.array2d(e,!1)}constructor(){this.gameState=new s,this.selectedBoxes=this.initializeFalseGrid(8),this.possibleDestBoxes=this.initializeFalseGrid(8),this.prevMove={src:{r:-1,c:-1},dst:{r:-1,c:-1}},this.captures=[],this.selectedCaptures=[],this.board=[]}}const c=0,a=1;class l{constructor(){this._state=new i}get state(){return this._state}set state(e){this._state.gameState=e.gameState?e.gameState:this._state.gameState,this._state.board=e.board?e.board:this._state.board,this._state.selectedBoxes=e.selectedBoxes?e.selectedBoxes:this._state.selectedBoxes,this._state.possibleDestBoxes=e.possibleDestBoxes?e.possibleDestBoxes:this._state.possibleDestBoxes,this._state.prevMove=e.prevMove?e.prevMove:this._state.prevMove,this._state.captures=e.captures?e.captures:this._state.captures,this._state.selectedCaptures=e.selectedCaptures?e.selectedCaptures:this._state.selectedCaptures}}function u(e,t){return(t||document).querySelector(e)}function d(e,t,r,o){e.addEventListener(t,r,!!o)}class h{Board(e){const t=e.board;let r=document.createElement("board"),o=0;for(let n=0;n<8;n++){let s=document.createElement("tr");for(let r=0;r<8;r++){let i=document.createElement("td");i.setAttribute("data-pos",String(o));const c=t[n][r];if(i.setAttribute("piece",JSON.stringify(c)),c){let e=document.createElement("div");e.setAttribute("class",c.color+c.name),i.appendChild(e)}e.selectedBoxes[n][r]&&i.setAttribute("class","selected"),e.possibleDestBoxes[n][r]&&i.setAttribute("class","possibleDest"),s.appendChild(i),o++}r.appendChild(s)}return r}Captured(e,t){const r=t.captures,o=t.selectedCaptures;let n=document.createElement("tr");for(let t=0;t<r.length;t++){const s=r[t];if(s.name&&0==s.name.indexOf(e)){let e=document.createElement("td"),r=document.createElement("div");r.setAttribute("class",s.color+s.name),o[t]&&r.setAttribute("class",s.color+s.name+" selectedCapture"),e.appendChild(r),n.appendChild(e)}}return n}CapturedWhite(e){return this.Captured("white",e)}CapturedBlack(e){return this.Captured("black",e)}}class g{constructor(){this._template=new h,this._$board=u(".chessboard"),this._$capturedwhite=u(".capturedwhite"),this._$capturedblack=u(".capturedblack"),this._$main=u(".main"),this._$undobtn=u(".undo"),this._$redobtn=u(".redo")}get $board(){return this._$board}get $capturedwhite(){return this._$capturedwhite}get $capturedblack(){return this._$capturedblack}showBoard(e){this.$board.replaceChild(this._template.Board(e),this.$board.firstChild)}showCaptures(e){this.$capturedwhite.replaceChild(this._template.CapturedWhite(e),this.$capturedwhite.firstChild),this.$capturedblack.replaceChild(this._template.CapturedBlack(e),this.$capturedblack.firstChild)}bindSelectBox(e,t){d(e,"click",()=>t(e))}bindCapturedPiece(e,t,r){d(e,"click",()=>r(e,t))}bindUndoMove(e){}bindRedoMove(e){}}r(2);const f={getNumMoves:(e,t)=>-1,isEmpty:(e,t)=>!1,isPieceOfGivenPlayer:(e,t,r)=>!1,isPieceOfCurrentPlayer:(e,t)=>!1,isBoxOnBoard:(e,t)=>!1,isValidSourceAndDest:(e,t,r)=>!1,canGoAlongRowToDest:(e,t,r)=>!1,canGoAlongColToDest:(e,t,r)=>!1,canGoAlongLineToDest:(e,t,r)=>!1,canGoAlongDiagonalToDest:(e,t,r)=>!1};f.getNumMoves=((e,t)=>{let r=e.getEncoding(t).match(/([a-zA-z])(\d*)/);return r&&r.length>2&&!isNaN(Number(r[2]))?Number(r[2]):-1}),f.isEmpty=((e,t)=>""===e.getEncoding(t).trim()),f.isPieceOfGivenPlayer=((e,t,r)=>{let o=e.getEncoding(r).match(/([a-zA-z])(\d*)/),n=o.length>1?o[1]:null;return!!n&&(t==c&&n==n.toUpperCase()||t==a&&n==n.toLowerCase())}),f.isPieceOfCurrentPlayer=((e,t)=>{const r=(r,{c:o,r:n}=t)=>e.getEncoding(t)===r.apply(e.getEncoding(t))&&!f.isEmpty(e,t);return e.player===c?r(String.prototype.toUpperCase):r(String.prototype.toLowerCase)}),f.isBoxOnBoard=((e,t)=>t.r<e.rankCount&&t.r>=0&&t.c>=0&&t.c<e.fileCount),f.isValidSourceAndDest=((e,t,r)=>f.isPieceOfCurrentPlayer(e,t)&&!f.isPieceOfCurrentPlayer(e,r)&&f.isBoxOnBoard(e,r)&&t!=r),f.canGoAlongRowToDest=((e,t,r)=>{if(t.r==r.r){const o=r.c>t.c?1:-1;let n=Math.abs(r.c-t.c);for(let r=t.c+o;n-- >1;r+=o)if(!f.isEmpty(e,{r:t.r,c:r}))return!1;return!0}return!1}),f.canGoAlongColToDest=((e,t,r)=>{if(t.c==r.c){const o=r.r>t.r?1:-1;let n=Math.abs(r.r-t.r);for(let r=t.r+o;n-- >1;r+=o)if(!f.isEmpty(e,{r:r,c:t.c}))return!1;return!0}return!1}),f.canGoAlongLineToDest=((e,t,r)=>f.canGoAlongColToDest(e,t,r)||f.canGoAlongRowToDest(e,t,r)),f.canGoAlongDiagonalToDest=((e,t,r)=>{if(1!=Math.abs((r.r-t.r)/(r.c-t.c)))return!1;let o=Math.abs(r.c-t.c);const n=r.r-t.r>0?1:-1,s=r.c-t.c>0?1:-1;let i=t.r+n,c=t.c+s;for(;o-- >1;i+=n,c+=s)if(!f.isEmpty(e,{r:i,c:c}))return!1;return!0});class p{constructor(e){this.name="pawn",this.color=e,this.getPossibleMoves=((e,t,r)=>{void 0===r&&(r=f.getNumMoves(e,t));return o=>{if(!f.isValidSourceAndDest(e,t,o))return!1;const n=(()=>e.player==c?-1:1)(),s=f.isEmpty(e,o)&&t.c==o.c&&o.r==t.r+n,i={r:t.r+n,c:o.c},a=0==r&&f.isEmpty(e,o)&&f.isEmpty(e,i)&&t.c==o.c&&o.r==t.r+2*n,l=!(f.isPieceOfCurrentPlayer(e,o)||f.isEmpty(e,o)||o.r!=t.r+n||o.c!=t.c+1&&o.c!=t.c-1);return s||a||l}})}}class b{constructor(e){this.name="rook",this.color=e,this.getPossibleMoves=((e,t,r)=>{return r=>!!f.isValidSourceAndDest(e,t,r)&&(f.canGoAlongRowToDest(e,t,r)||f.canGoAlongColToDest(e,t,r))})}}class m{constructor(e){this.name="knight",this.color=e,this.getPossibleMoves=((e,t,r)=>{return r=>!(!f.isValidSourceAndDest(e,t,r)||!(1==Math.abs(t.r-r.r)&&2==Math.abs(t.c-r.c)||1==Math.abs(t.c-r.c)&&2==Math.abs(t.r-r.r)))})}}class v{constructor(e){this.name="bishop",this.color=e,this.getPossibleMoves=function(e,t,r){return r=>!!f.isValidSourceAndDest(e,t,r)&&f.canGoAlongDiagonalToDest(e,t,r)}}}class P{constructor(e){this.name="queen",this.color=e,this.getPossibleMoves=((e,t,r)=>{return r=>!!f.isValidSourceAndDest(e,t,r)&&(f.canGoAlongRowToDest(e,t,r)||f.canGoAlongColToDest(e,t,r)||f.canGoAlongDiagonalToDest(e,t,r))})}}class w{constructor(e,t){this.name="king",this.color=e,this.getPossibleSpecialMoves=t,this.getPossibleMoves=((e,t,r)=>{return r=>!(!f.isValidSourceAndDest(e,t,r)||1!=Math.abs(r.c-t.c)&&1!=Math.abs(r.r-t.r))&&(f.canGoAlongRowToDest(e,t,r)||f.canGoAlongColToDest(e,t,r)||f.canGoAlongDiagonalToDest(e,t,r))})}}const C={convertGSBoardToPieceBoard:e=>[],convertPieceToStringEncoding:(e,t)=>"",getType:e=>new o,getNumMoves:e=>-1,getPossiblePiecesToPromoteTo:(e,t)=>[],getPossibleMoves:(e,t,r)=>[{r:-1,c:-1}],isPossibleToMoveTo:(e,t)=>e=>!1,isInCheck:(e,t)=>!1,isInCheckmate:(e,t)=>!1,kingCanCastleWithGivenRook:(e,t,r)=>!1,castleKingWithGivenRook:(e,t,r)=>e,getSetOfAllPossibleMovesForPlayer:(e,t)=>new Set,randomDefensiveMove:e=>new Set,isACapture:(e,t,r)=>!1,isEnPassantPossible:(e,t,r)=>!1,getBoxOfPromotablePieceIfPossible:e=>({r:-1,c:-1}),promoteIfPossible:(e,t,r)=>e,incrementMoveCount:e=>"",makeLegalMove:(e,t,r,n,s)=>({gameState:e,capturedPiece:new o})};C.convertGSBoardToPieceBoard=(e=>{const t=[];for(let r=0;r<e.rankCount;r++){t.push([]);for(let o=0;o<e.fileCount;o++)t[r].push(C.getType(e.getEncoding({r:r,c:o})))}return t}),C.convertPieceToStringEncoding=((e,t=0)=>{let r="";return e instanceof p&&(r="white"===e.color?"P":"p"),e instanceof b&&(r="white"===e.color?"R":"r"),e instanceof m&&(r="white"===e.color?"H":"h"),e instanceof v&&(r="white"===e.color?"B":"b"),e instanceof P&&(r="white"===e.color?"Q":"q"),e instanceof w&&(r="white"===e.color?"K":"k"),r=r?r+t:r}),C.getType=(e=>{if(""===e.trim())return new o;let t=e.match(/([a-zA-z])(\d*)/),r=t&&t.length>2?Number(t[2]):void 0,n=t.length>1?t[1]:void 0;if(void 0===r||void 0===n)return new o;switch(n.trim()){case"p":return new p("black");case"r":return new b("black");case"h":return new m("black");case"b":return new v("black");case"q":return new P("black");case"k":return new w("black",C.kingCanCastleWithGivenRook);case"P":return new p("white");case"R":return new b("white");case"H":return new m("white");case"B":return new v("white");case"Q":return new P("white");case"K":return new w("white",C.kingCanCastleWithGivenRook);case"":default:return new o}}),C.getNumMoves=(e=>{const t=e.match(/([a-zA-z])(\d*)/);return t&&t.length>2&&!Number.isNaN(Number(t[2]))?Number(t[2]):-1}),C.getPossiblePiecesToPromoteTo=((e,t)=>{const r=[];if(void 0!==C.getBoxOfPromotablePieceIfPossible(e)){const n=C.getType(e.getEncoding(t));for(let t=0;t<e.rankCount;t++)for(let s=0;s<e.fileCount;s++){const i={r:t,c:s},c=C.getType(e.getEncoding({r:t,c:s}));n.color!==c.color||c instanceof p||c instanceof w||c instanceof o||r.push(i)}}return r}),C.getPossibleMoves=((e,t,r)=>{const o=C.getPossiblePiecesToPromoteTo(e,t);if(o.length>0)return o;const n=e.getEncoding(t),s=C.getNumMoves(n),i=C.getType(n);if(i&&!isNaN(s)){const o=((e,t,r,o)=>{const n=[],s="function"==typeof r.getPossibleMoves?r.getPossibleMoves(e,t,o):e=>!1;if(!s)return n;for(let t=0;t<e.rankCount;t++)for(let r=0;r<e.fileCount;r++)s({r:t,c:r})&&n.push({r:t,c:r});return n})(e,t,i,s);if(C.getType(e.getEncoding(t))instanceof w&&(C.kingCanCastleWithGivenRook(e,t,{r:t.r,c:0})&&o.push({r:t.r,c:0}),C.kingCanCastleWithGivenRook(e,t,{r:t.r,c:e.fileCount-1})&&o.push({r:t.r,c:e.fileCount-1})),C.getType(e.getEncoding(t))instanceof p)if(void 0===r)console.warn("PieceGameLogic.getPossibleMoves should be passed prevMove as last parameter! Please refactor, else En Passante will not work.");else if(C.isEnPassantPossible(e,t,r)){const e=r.dst.c-r.src.c>0?1:-1;o.push({r:t.r+e,c:r.dst.c})}return o}return[]}),C.isPossibleToMoveTo=((e,t)=>{const r=e.getEncoding(t);C.getNumMoves(r);return C.getType(r).getPossibleMoves(e,t)}),C.isInCheck=((e,t)=>{for(let r=0;r<e.rankCount;r++)for(let o=0;o<e.fileCount;o++)if(t.r!=r&&t.c!=o){const n=C.getPossibleMoves(e,{r:r,c:o});for(let e=0;e<n.length;e++)if(n[e].r==t.r&&n[e].c==t.c)return!0}return!1}),C.isInCheckmate=((e,t)=>{const r=C.getPossibleMoves(e,t);if(C.isInCheck(e,t)){let t=!0;for(let o=0;o<r.length;o++)t=t&&C.isInCheck(e,r[o]);if(t)return!0}return!1}),C.kingCanCastleWithGivenRook=((e,t,r)=>{const o=e.getEncoding(t),n=e.getEncoding(r);if(C.getType(o).name!=new w("").name||C.getType(n).name!=new b("").name||0!=C.getNumMoves(o)||0!=C.getNumMoves(n))return!1;if(f.isPieceOfCurrentPlayer(e,t)&&f.isPieceOfCurrentPlayer(e,r)&&f.isBoxOnBoard(e,r)&&t!=r){let o=r.c-t.c>0?1:-1,n=Math.abs(r.c-t.c);for(let r=t.c+o;n-- >1;r+=o)if(!f.isEmpty(e,{r:t.r,c:r}))return!1;return!0}}),C.castleKingWithGivenRook=((e,t,r)=>{if(!C.kingCanCastleWithGivenRook(e,t,r))return e;const o=new n(e.board);o.setEncoding(t,C.incrementMoveCount(e.getEncoding(t)));let i=r.c-t.c>0?1:-1,c=0;return 3==Math.abs(r.c-t.c)?c=2:4==Math.abs(r.c-t.c)&&(c=3),o.setEncoding({r:t.r,c:t.c+i*c},e.getEncoding(t)),o.setEncoding(t," "),o.setEncoding({r:r.r,c:r.c-i*c},e.getEncoding(r)),o.setEncoding(r," "),new s(o)}),C.getSetOfAllPossibleMovesForPlayer=((e,t)=>{let r=new Set;for(let o=0;o<e.rankCount;o++)for(let n=0;n<e.fileCount;n++)if(!f.isPieceOfGivenPlayer(e,t,{r:o,c:n})&&!f.isEmpty(e,{r:o,c:n})){const t=C.getPossibleMoves(e,{r:o,c:n});for(let e=0;e<t.length;e++)r.add(t[e])}return r}),C.randomDefensiveMove=(e=>{const t=0==e.player?1:0;return C.getSetOfAllPossibleMovesForPlayer(e,t)}),C.isACapture=((e,t,r)=>{const o=e.getEncoding(t),n=C.getNumMoves(o),s=C.getType(o);if("function"==typeof s.getPossibleMoves&&!isNaN(n)){if(s.getPossibleMoves(e,t,n)(r)&&!f.isPieceOfCurrentPlayer(e,r)&&!f.isEmpty(e,r))return!0}return!1}),C.isEnPassantPossible=((e,t,r)=>{const o=r.dst.r-r.src.r>0?1:6;return C.getType(e.getEncoding(t))instanceof p&&2===Math.abs(r.dst.r-r.src.r)&&o===r.src.r&&C.getType(e.getEncoding(r.dst))instanceof p&&!f.isPieceOfCurrentPlayer(e,r.dst)}),C.getBoxOfPromotablePieceIfPossible=(e=>{const t=t=>{for(let r=0;r<e.rankCount;r++)if(C.getType(e.getEncoding({r:t,c:r}))instanceof p)return{r:t,c:r}};return t(0)||t(e.rankCount-1)}),C.promoteIfPossible=((e,t,r)=>{const i=C.getBoxOfPromotablePieceIfPossible(e),c=new n(e.board);return void 0===i||i.r!==t.r||i.c!==t.c||r instanceof p||r instanceof w||r instanceof o||C.getType(e.getEncoding(t)).color!==r.color||c.setEncoding(t,C.convertPieceToStringEncoding(r)),new s(c)}),C.incrementMoveCount=(e=>{const t=e.trim().match(/\w/g)?e.trim().match(/\w/g)[0]:"",r=e.trim().match(/(\d+)/g)?Number(e.trim().match(/(\d+)/g)[0]):0;return t+Number(r+1)}),C.makeLegalMove=((e,t,r,i,c)=>{if(void 0!==C.getBoxOfPromotablePieceIfPossible(e))return void 0===c&&(c=C.getType(e.getEncoding(r))),{gameState:C.promoteIfPossible(e,t,c),capturedPiece:new o};if(C.kingCanCastleWithGivenRook(e,t,r))return{gameState:C.castleKingWithGivenRook(e,t,r),capturedPiece:new o};const a=o=>{const i=o?C.getType(e.getEncoding(o)):C.getType(e.getEncoding(r)),c=new n(e.board);return o&&c.setEncoding(o," "),c.setEncoding(r,C.incrementMoveCount(e.getEncoding(t))),c.setEncoding(t," "),{gameState:new s(c),capturedPiece:i}};if(C.isEnPassantPossible(e,t,i)){const e=i.dst.r-i.src.r>0?-1:1,o={r:t.r+e,c:i.dst.c};if(r.r===o.r&&r.c===o.c)return a(i.dst)}const l=C.getPossibleMoves(e,t,i);for(let e=0;e<l.length;e++){const t=l[e];if(r.r===t.r&&r.c===t.c)return a()}return{gameState:e,capturedPiece:new o}});const y=e=>{let t=Number(e.getAttribute("data-pos"));return{box:{r:Math.floor(t/8),c:t%8},piece:JSON.parse(e.getAttribute("piece"))}};new class{createAndShowInitialBoard(){const e=new i;e.board=C.convertGSBoardToPieceBoard(e.gameState),this.store.state=e,this.showBoardAndBindBoxes()}setStoreState(e){e.board=C.convertGSBoardToPieceBoard(e.gameState),this.store.state=e}constructor(){this.store=new l,this.view=new g,this._selectedBox={box:{r:-1,c:-1},piece:new o},this._lastSelectedBox={box:{r:-1,c:-1},piece:new o},this._selectedCapturedPiece=new o,this.createAndShowInitialBoard()}showBoardAndBindBoxes(){this.view.showBoard(this.store.state);for(let e=0;e<8;e++)for(let t=0;t<8;t++){let r=this.view.$board.children[0].children[e].children[t];this.view.bindSelectBox(r,this.selectBox.bind(this))}}showAndBindCapturedPieces(){let e=this.store.state.captures;this.view.showCaptures(this.store.state);let t=0,r=0;for(let o=0;o<e.length;o++)if(e[o].color&&0==e[o].color.indexOf("black")){let e=this.view.$capturedblack.children[0].children[r++];void 0!=e&&this.view.bindCapturedPiece(e,o,this.selectCapturedPiece.bind(this))}else if(e[o].color&&0==e[o].color.indexOf("white")){let e=this.view.$capturedwhite.children[0].children[t++];void 0!=e&&this.view.bindCapturedPiece(e,o,this.selectCapturedPiece.bind(this))}}moveXorGetPossibleMoves(){if(!(this._lastSelectedBox.piece instanceof o)){const e=C.makeLegalMove(this.store.state.gameState,this._lastSelectedBox.box,this._selectedBox.box,this.store.state.prevMove),t=new i;t.prevMove=this.store.state.prevMove,t.gameState=e.gameState;const r=e.capturedPiece;if(this.store.state.gameState!==t.gameState)t.prevMove={src:this._lastSelectedBox.box,dst:this._selectedBox.box},t.gameState.player=this.store.state.gameState.player===c?a:c,r instanceof o||t.captures.push(r);else{const e=C.getPossibleMoves(this.store.state.gameState,this._selectedBox.box,this.store.state.prevMove);t.possibleDestBoxes=this.store.state.initializeFalseGrid(8),e.forEach(e=>{t.possibleDestBoxes[e.r][e.c]=!0})}this.setStoreState(t)}}selectBox(e){this._lastSelectedBox=this._selectedBox,this._selectedBox=y(e),this.showAndBindCapturedPieces(),this.showBoardAndBindBoxes(),this.moveXorGetPossibleMoves(),this.showAndBindCapturedPieces(),this.showBoardAndBindBoxes()}selectCapturedPiece(e,t){this.showAndBindCapturedPieces(),this.showBoardAndBindBoxes()}undoMove(){}redoMove(){}loadBoard(){}saveBoard(){}}},function(e,t){var r,o,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var a,l=[],u=!1,d=-1;function h(){u&&a&&(u=!1,a.length?l=a.concat(l):d=-1,l.length&&g())}function g(){if(!u){var e=c(h);u=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||c(g)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){(function(e){function r(e,t){for(var r=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(e){return o.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var r=[],o=0;o<e.length;o++)t(e[o],o,e)&&r.push(e[o]);return r}t.resolve=function(){for(var t="",o=!1,n=arguments.length-1;n>=-1&&!o;n--){var i=n>=0?arguments[n]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,o="/"===i.charAt(0))}return t=r(s(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),n="/"===i(e,-1);return(e=r(s(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&n&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=o(e.split("/")),s=o(r.split("/")),i=Math.min(n.length,s.length),c=i,a=0;a<i;a++)if(n[a]!==s[a]){c=a;break}var l=[];for(a=c;a<n.length;a++)l.push("..");return(l=l.concat(s.slice(c))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=n(e),r=t[0],o=t[1];return r||o?(o&&(o=o.substr(0,o.length-1)),r+o):"."},t.basename=function(e,t){var r=n(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return n(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(1))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9zdG9yZS9zdG9yZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3RlbXBsYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3BpZWNlaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9wYXduLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9yb29rLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9rbmlnaHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2Jpc2hvcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvcXVlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2tpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3BpZWNlZ2FtZWxvZ2ljLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFbXB0eVBpZWNlIiwiW29iamVjdCBPYmplY3RdIiwiY29sb3IiLCJ0aGlzIiwiZ2V0UG9zc2libGVNb3ZlcyIsImdhbWVTdGF0ZSIsInNyYyIsIm51bU1vdmVzIiwiZHN0IiwiQm9hcmQiLCJib2FyZCIsImFzc2lnbiIsIl9ib2FyZCIsInJhbmtDb3VudCIsImxlbmd0aCIsImZpbGVDb3VudCIsImdldEVuY29kaW5nIiwiYm94Iiwic2V0RW5jb2RpbmciLCJlbmMiLCJHYW1lU3RhdGUiLCJwbGF5ZXIiLCJfcGxheWVyIiwibmV3UGxheWVyIiwiUExBWUVSX1dISVRFIiwiU3RvcmVTdGF0ZSIsInYiLCJhcnIiLCJwdXNoIiwiaiIsImFycmF5MmQiLCJzZWxlY3RlZEJveGVzIiwiaW5pdGlhbGl6ZUZhbHNlR3JpZCIsInBvc3NpYmxlRGVzdEJveGVzIiwicHJldk1vdmUiLCJjYXB0dXJlcyIsInNlbGVjdGVkQ2FwdHVyZXMiLCJQTEFZRVJfQkxBQ0siLCJzdG9yZV9TdG9yZSIsIl9zdGF0ZSIsInN0YXRlIiwicXMiLCJzZWxlY3RvciIsInNjb3BlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiJG9uIiwidGFyZ2V0IiwidHlwZSIsImNhbGxiYWNrIiwiY2FwdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJUZW1wbGF0ZSIsInBpZWNlcyIsImNyZWF0ZUVsZW1lbnQiLCJib3hQb3MiLCJ0ciIsInRkIiwic2V0QXR0cmlidXRlIiwiU3RyaW5nIiwicGllY2UiLCJKU09OIiwic3RyaW5naWZ5IiwicGllY2VEaXYiLCJhcHBlbmRDaGlsZCIsImluZGV4T2YiLCJDYXB0dXJlZCIsInZpZXdfVmlldyIsIl90ZW1wbGF0ZSIsIl8kYm9hcmQiLCJfJGNhcHR1cmVkd2hpdGUiLCJfJGNhcHR1cmVkYmxhY2siLCJfJG1haW4iLCJfJHVuZG9idG4iLCJfJHJlZG9idG4iLCIkYm9hcmQiLCIkY2FwdHVyZWR3aGl0ZSIsIiRjYXB0dXJlZGJsYWNrIiwicmVwbGFjZUNoaWxkIiwiZmlyc3RDaGlsZCIsIkNhcHR1cmVkV2hpdGUiLCJDYXB0dXJlZEJsYWNrIiwiaGFuZGxlciIsIlBpZWNlSGVscGVyIiwiZ2V0TnVtTW92ZXMiLCJpc0VtcHR5IiwiaXNQaWVjZU9mR2l2ZW5QbGF5ZXIiLCJpc1BpZWNlT2ZDdXJyZW50UGxheWVyIiwiaXNCb3hPbkJvYXJkIiwiaXNWYWxpZFNvdXJjZUFuZERlc3QiLCJjYW5Hb0Fsb25nUm93VG9EZXN0IiwiY2FuR29BbG9uZ0NvbFRvRGVzdCIsImNhbkdvQWxvbmdMaW5lVG9EZXN0IiwiY2FuR29BbG9uZ0RpYWdvbmFsVG9EZXN0IiwiY29kZU1hdGNoIiwibWF0Y2giLCJpc05hTiIsIk51bWJlciIsInRyaW0iLCJhbHBoYWNvZGUiLCJ0b1VwcGVyQ2FzZSIsInRvTG93ZXJDYXNlIiwiY2hlY2tQYXJ0aWN1bGFyUGxheWVyIiwicGxheWVyQ2FzZSIsImFwcGx5IiwiZGlyIiwibGVuIiwiTWF0aCIsImFicyIsInJvd0RpciIsImNvbERpciIsInBhd25fUGF3biIsInVuZGVmaW5lZCIsImZvcndhcmREaXJlY3Rpb25PZkN1cnJlbnRQbGF5ZXIiLCJwYXduQ2FuTW92ZTFGb3J3YXJkIiwiaW5CZXR3ZWVuU3F1YXJlIiwicGF3bkNhbk1vdmUyRm9yd2FyZCIsInBhd25DYW5BdHRhY2siLCJyb29rX1Jvb2siLCJrbmlnaHRfS25pZ2h0IiwiYmlzaG9wX0Jpc2hvcCIsInF1ZWVuX1F1ZWVuIiwia2luZ19LaW5nIiwic3BlY2lhbE1vdmVzIiwiZ2V0UG9zc2libGVTcGVjaWFsTW92ZXMiLCJQaWVjZUdhbWVMb2dpYyIsImNvbnZlcnRHU0JvYXJkVG9QaWVjZUJvYXJkIiwiY29udmVydFBpZWNlVG9TdHJpbmdFbmNvZGluZyIsInRpbWVzTW92ZWQiLCJnZXRUeXBlIiwiZ2V0UG9zc2libGVQaWVjZXNUb1Byb21vdGVUbyIsImlzUG9zc2libGVUb01vdmVUbyIsImlzSW5DaGVjayIsImlzSW5DaGVja21hdGUiLCJraW5nQ2FuQ2FzdGxlV2l0aEdpdmVuUm9vayIsImNhc3RsZUtpbmdXaXRoR2l2ZW5Sb29rIiwiZ2V0U2V0T2ZBbGxQb3NzaWJsZU1vdmVzRm9yUGxheWVyIiwiU2V0IiwicmFuZG9tRGVmZW5zaXZlTW92ZSIsImlzQUNhcHR1cmUiLCJpc0VuUGFzc2FudFBvc3NpYmxlIiwiZ2V0Qm94T2ZQcm9tb3RhYmxlUGllY2VJZlBvc3NpYmxlIiwicHJvbW90ZUlmUG9zc2libGUiLCJmaXJzdCIsInNlY29uZCIsImluY3JlbWVudE1vdmVDb3VudCIsIm1ha2VMZWdhbE1vdmUiLCJwaWVjZVRvUHJvbW90ZVRvIiwiY2FwdHVyZWRQaWVjZSIsInBpZWNlQm9hcmQiLCJlbmNvZGluZyIsInZhbGlkUHJvbW90aW9ucyIsInNyY1BpZWNlIiwib3RoZXJQaWVjZSIsInBvc3NpYmxlUHJvbW90aW9uTW92ZXMiLCJQaWVjZVR5cGUiLCJtb3Zlc01hdHJpeCIsInZhbGlkTW92ZXMiLCJjb25zdHJ1Y3RNb3Zlc01hdHJpeCIsImNvbnNvbGUiLCJ3YXJuIiwicG9zc2libGVBdHRhY2tzIiwiayIsInBvc3NpYmxlTW92ZXMiLCJuZXdCb2FyZCIsIm91dERpciIsInNoaWZ0IiwicG9zc2libGVQbGF5ZXJNb3ZlcyIsImFkZCIsIm9wcG9uZW50Iiwib3Bwb25lbnRTdGFydCIsInBhd25BdENvbHVtbkJvcmRlciIsImJvcmRlcklkeCIsInByb21vdGFibGVCb3giLCJwcmVmaXgiLCJudW0iLCJtb3ZlQW5kVXBkYXRlU3RhdGUiLCJlblBhc3NhbnQiLCJkZXNlcmlhbGl6ZUJveENvbnRlbnRzIiwiYm94RWxlbSIsImdldEF0dHJpYnV0ZSIsImZsb29yIiwicGFyc2UiLCJuZXdTdGF0ZSIsInN0b3JlIiwic2hvd0JvYXJkQW5kQmluZEJveGVzIiwidmlldyIsIl9zZWxlY3RlZEJveCIsIl9sYXN0U2VsZWN0ZWRCb3giLCJfc2VsZWN0ZWRDYXB0dXJlZFBpZWNlIiwiY3JlYXRlQW5kU2hvd0luaXRpYWxCb2FyZCIsInNob3dCb2FyZCIsImNoaWxkcmVuIiwiYmluZFNlbGVjdEJveCIsInNlbGVjdEJveCIsInNob3dDYXB0dXJlcyIsIndoaXRlSWR4IiwiYmxhY2tJZHgiLCJiaW5kQ2FwdHVyZWRQaWVjZSIsInNlbGVjdENhcHR1cmVkUGllY2UiLCJ1cGRhdGVkTW92ZVN0YXRlIiwiZm9yRWFjaCIsInNldFN0b3JlU3RhdGUiLCJzaG93QW5kQmluZENhcHR1cmVkUGllY2VzIiwibW92ZVhvckdldFBvc3NpYmxlTW92ZXMiLCJwaWVjZUVsZW0iLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJsYXN0Iiwic3BsaWNlIiwidW5zaGlmdCIsInNwbGl0UGF0aFJlIiwic3BsaXRQYXRoIiwiZmlsZW5hbWUiLCJleGVjIiwic2xpY2UiLCJmaWx0ZXIiLCJ4cyIsImYiLCJyZXMiLCJyZXNvbHZlIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsInBhdGgiLCJUeXBlRXJyb3IiLCJjaGFyQXQiLCJzcGxpdCIsImpvaW4iLCJub3JtYWxpemUiLCJpc0Fic29sdXRlIiwidHJhaWxpbmdTbGFzaCIsInN1YnN0ciIsInBhdGhzIiwiaW5kZXgiLCJyZWxhdGl2ZSIsImZyb20iLCJ0byIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsIm1pbiIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJlc3VsdCIsInJvb3QiLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLCJzdHIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFB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RUFBQS9QLE9BQUErUixFQUFBL1IsU0FFQStQLEdBSUEvUyxFQUFBZ1YsUUFBQSxTQUFBNUIsR0FDQSxPQUFBWCxFQUFBVyxHQUFBLElBYUEsSUFBQVEsRUFBQSxXQUFBQSxRQUFBLEdBQ0EsU0FBQXFCLEVBQUFmLEVBQUF0TCxHQUFrQyxPQUFBcU0sRUFBQXJCLE9BQUFNLEVBQUF0TCxJQUNsQyxTQUFBcU0sRUFBQWYsRUFBQXRMLEdBRUEsT0FEQXNMLEVBQUEsSUFBQUEsRUFBQWUsRUFBQWpTLE9BQUFrUixHQUNBZSxFQUFBckIsT0FBQU0sRUFBQXRMIiwiZmlsZSI6Ii4vZGlzdC9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgaW50ZXJmYWNlIEJveCB7XG4gIHI6IG51bWJlcjtcbiAgYzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBjb2xvcjogc3RyaW5nO1xuICBnZXRQb3NzaWJsZU1vdmVzOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBudW1Nb3Zlcz86IG51bWJlcikgPT4gKGRzdDogQm94KSA9PiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRW1wdHlQaWVjZSBpbXBsZW1lbnRzIFBpZWNlIHtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgcHVibGljIGNvbG9yOiBzdHJpbmc7XG4gIHB1YmxpYyBnZXRQb3NzaWJsZU1vdmVzOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBudW1Nb3Zlcz86IG51bWJlcikgPT4gKGRzdDogQm94KSA9PiBib29sZWFuO1xuICBjb25zdHJ1Y3Rvcihjb2xvciA9ICdibGFuaycpIHtcbiAgICB0aGlzLm5hbWUgPSAnZW1wdHknO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLmdldFBvc3NpYmxlTW92ZXMgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBudW1Nb3Zlcz86IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgaXNQb3NzaWJsZVRvTW92ZVRvID0gKGRzdDogQm94KSA9PiBmYWxzZTtcbiAgICAgIHJldHVybiBpc1Bvc3NpYmxlVG9Nb3ZlVG87XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge3tib2FyZDogQXJyYXk8QXJyYXk8c3RyaW5nPj4sIG51bVJvd3M6IG51bWJlciwgbnVtQ29sczogbnVtYmVyLCBwbGF5ZXJXaGl0ZTogbnVtYmVyLCBwbGF5ZXJCbGFjazogbnVtYmVyLCBwbGF5ZXI6IG51bWJlcn19XG4gKi9cbi8vIGV4cG9ydCBpbnRlcmZhY2UgR2FtZVN0YXRlIHtcbi8vICAgYm9hcmQ6IEFycmF5PEFycmF5PHN0cmluZz4+LCBwbGF5ZXI6IFBsYXllciwgZ2V0RW5jb2Rpbmc6ICgoYm94OiBCb3gpID0+IHN0cmluZyk7XG4vLyB9O1xuXG5leHBvcnQgY2xhc3MgQm9hcmQge1xuICBwcml2YXRlIF9ib2FyZDogQXJyYXk8QXJyYXk8c3RyaW5nPj47XG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvcHkgb2YgYSBib2FyZCAod2hpY2ggY2FuIGJlIHNhZmVseSBtdXRhdGVkIGluIEZQIHBhcmFkaWdtKS5cbiAgICovXG4gIHB1YmxpYyBnZXQgYm9hcmQoKTogQXJyYXk8QXJyYXk8c3RyaW5nPj4ge1xuICAgIGNvbnN0IGJvYXJkQ29weSA9IE9iamVjdC5hc3NpZ24oW10sIHRoaXMuX2JvYXJkKTtcbiAgICByZXR1cm4gYm9hcmRDb3B5O1xuICB9XG4gIHB1YmxpYyBnZXQgcmFua0NvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2JvYXJkLmxlbmd0aDtcbiAgfVxuICBwdWJsaWMgZ2V0IGZpbGVDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9ib2FyZFswXS5sZW5ndGggPiAwID8gdGhpcy5fYm9hcmRbMF0ubGVuZ3RoIDogMTtcbiAgfVxuICAvLyBwcm90ZWN0ZWQgc2V0IGJvYXJkKGJvYXJkOiBBcnJheTxBcnJheTxzdHJpbmc+Pikge1xuICAvLyAgIHRoaXMuX2JvYXJkID0gYm9hcmQ7XG4gIC8vIH1cbiAgcHVibGljIHJlYWRvbmx5IGdldEVuY29kaW5nOiAoYm94OiBCb3gpID0+IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHNldEVuY29kaW5nOiAoYm94OiBCb3gsIGVuYzogc3RyaW5nKSA9PiB2b2lkO1xuICBjb25zdHJ1Y3Rvcihib2FyZD86IEFycmF5PEFycmF5PHN0cmluZz4+fEJvYXJkICkge1xuICAgIGlmIChib2FyZCBpbnN0YW5jZW9mIEJvYXJkKSB0aGlzLl9ib2FyZCA9IGJvYXJkLl9ib2FyZDtcbiAgICBlbHNlIGlmIChib2FyZCkgdGhpcy5fYm9hcmQgPSBib2FyZDtcbiAgICBlbHNlIHRoaXMuX2JvYXJkID0gW1xuICAgICAgWydyMCcsJ2gwJywnYjAnLCdxMCcsJ2swJywnYjAnLCdoMCcsJ3IwJ10sIC8vIGxvd2VyIGNhc2U6IGJsYWNrIHBpZWNlc1xuICAgICAgWydwMCcsJ3AwJywncDAnLCdwMCcsJ3AwJywncDAnLCdwMCcsJ3AwJ10sXG4gICAgICBbJyAnLCcgJywnICcsJyAnLCcgJywnICcsJyAnLCcgJ10sXG4gICAgICBbJyAnLCcgJywnICcsJyAnLCcgJywnICcsJyAnLCcgJ10sXG4gICAgICBbJyAnLCcgJywnICcsJyAnLCcgJywnICcsJyAnLCcgJ10sXG4gICAgICBbJyAnLCcgJywnICcsJyAnLCcgJywnICcsJyAnLCcgJ10sXG4gICAgICBbJ1AwJywnUDAnLCdQMCcsJ1AwJywnUDAnLCdQMCcsJ1AwJywnUDAnXSwgLy8gdXBwZXIgY2FzZTogd2hpdGUgcGllY2VzXG4gICAgICBbJ1IwJywnSDAnLCdCMCcsJ1EwJywnSzAnLCdCMCcsJ0gwJywnUjAnXSBdO1xuICAgIHRoaXMuZ2V0RW5jb2RpbmcgPSAoYm94OiBCb3gpOiBzdHJpbmcgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2JvYXJkW2JveC5yXVtib3guY107XG4gICAgfVxuICAgIHRoaXMuc2V0RW5jb2RpbmcgPSAoYm94OiBCb3gsIGVuYzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBpZiAoYm94LnIgPiAtMSAmJiBib3guciA8IHRoaXMuX2JvYXJkLmxlbmd0aCAmJiBib3guYyA+IC0xICYmIGJveC5jIDwgdGhpcy5fYm9hcmRbMF0ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2JvYXJkW2JveC5yXVtib3guY10gPSBlbmM7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnVEVTVCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCd0aGlzLl9ib2FyZC5sZW5ndGgnLCB0aGlzLl9ib2FyZC5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ3RoaXMuX2JvYXJkWzBdLmxlbmd0aCcsIHRoaXMuX2JvYXJkWzBdLmxlbmd0aCk7XG4gICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBpbmNvcnJlY3RseSBzZXQgZW5jb2RpbmcgKCR7ZW5jfSkgdG8gYm9hcmQgYXQgYm94ICh7cjogJHtib3gucn0sIGM6ICR7Ym94LmN9fSkuIEZvciBib2FyZCB0aGUgZm9sbG93aW5nIGJvYXJkICR7SlNPTi5zdHJpbmdpZnkodGhpcy5fYm9hcmQpfS4gUGxlYXNlIGZpeCB0aGlzIGJ1Zy5gKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0dhbWVTdGF0ZX1cbiAqL1xuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSB7XG4gIHByaXZhdGUgX2JvYXJkOiBCb2FyZDtcbiAgcHJpdmF0ZSBfcGxheWVyOiBQbGF5ZXI7XG4gIC8vIHByaXZhdGUgc2V0RW5jb2Rpbmc7IC8vIGhpZGUgXG4gIHB1YmxpYyByZWFkb25seSBnZXRFbmNvZGluZzogKGJveDogQm94KSA9PiBzdHJpbmc7XG4gIGdldCBwbGF5ZXIoKTogUGxheWVyIHtcbiAgICByZXR1cm4gdGhpcy5fcGxheWVyO1xuICB9XG4gIHNldCBwbGF5ZXIobmV3UGxheWVyOiBQbGF5ZXIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdURVNUJykge1xuICAgICAgY29uc29sZS53YXJuKGBwbGF5ZXIgaXMgYmVpbmcgY2hhbmdlZCBmcm9tIFBsYXllciAke3RoaXMuX3BsYXllcn0gdG8gUGxheWVyICR7bmV3UGxheWVyfS5gKTtcbiAgICB9XG4gICAgdGhpcy5fcGxheWVyID0gbmV3UGxheWVyO1xuICB9XG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvcHkgb2YgYSBib2FyZCAod2hpY2ggY2FuIGJlIHNhZmVseSBtdXRhdGVkIGluIEZQIHBhcmFkaWdtKS5cbiAgICovXG4gIGdldCBib2FyZCgpOiBBcnJheTxBcnJheTxzdHJpbmc+PiB7XG4gICAgcmV0dXJuIHRoaXMuX2JvYXJkLmJvYXJkO1xuICB9XG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gTnVtYmVyIG9mICdyb3dzJyBvbiBjaGVzc2JvYXJkLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHJhbmtDb3VudDogbnVtYmVyO1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIE51bWJlciBvZiAnY29sdW1ucycgb24gY2hlc3Nib2FyZC5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBmaWxlQ291bnQ6IG51bWJlcjtcbiAgY29uc3RydWN0b3IoYm9hcmQ/OiBCb2FyZHxBcnJheTxBcnJheTxzdHJpbmc+Pikge1xuICAgIHRoaXMuX2JvYXJkID0gbmV3IEJvYXJkKGJvYXJkKTtcbiAgICB0aGlzLmdldEVuY29kaW5nID0gKGJveDogQm94KTogc3RyaW5nID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9ib2FyZC5nZXRFbmNvZGluZyhib3gpO1xuICAgIH1cbiAgICB0aGlzLl9wbGF5ZXIgPSBQTEFZRVJfV0hJVEU7XG4gICAgdGhpcy5yYW5rQ291bnQgPSB0aGlzLl9ib2FyZC5yYW5rQ291bnQ7XG4gICAgdGhpcy5maWxlQ291bnQgPSB0aGlzLl9ib2FyZC5maWxlQ291bnQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0b3JlU3RhdGUge1xuICBwdWJsaWMgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XG4gIHB1YmxpYyBzZWxlY3RlZEJveGVzOiBBcnJheTxBcnJheTxib29sZWFuPj47XG4gIHB1YmxpYyBwb3NzaWJsZURlc3RCb3hlczogQXJyYXk8QXJyYXk8Ym9vbGVhbj4+O1xuICBwdWJsaWMgcHJldk1vdmU6IHsgc3JjOiBCb3gsIGRzdDogQm94IH07XG4gIHB1YmxpYyBjYXB0dXJlczogQXJyYXk8UGllY2U+O1xuICBwdWJsaWMgc2VsZWN0ZWRDYXB0dXJlczogQXJyYXk8Ym9vbGVhbj47XG4gIHB1YmxpYyBib2FyZDogQXJyYXk8QXJyYXk8UGllY2U+PjtcbiAgcHJpdmF0ZSBhcnJheTJkKGQ6IG51bWJlciwgdjogYW55KTogQXJyYXk8QXJyYXk8YW55Pj4ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZDsgaSsrKSB7XG4gICAgICBhcnIucHVzaChbXSk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGQ7IGorKykge1xuICAgICAgICBhcnJbaV0ucHVzaCh2KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuICBwdWJsaWMgaW5pdGlhbGl6ZUZhbHNlR3JpZChkOiBudW1iZXIpOiBBcnJheTxBcnJheTxib29sZWFuPj4ge1xuICAgIHJldHVybiB0aGlzLmFycmF5MmQoZCwgZmFsc2UpO1xuICB9XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ2FtZVN0YXRlID0gbmV3IEdhbWVTdGF0ZTtcbiAgICB0aGlzLnNlbGVjdGVkQm94ZXMgPSB0aGlzLmluaXRpYWxpemVGYWxzZUdyaWQoOCk7XG4gICAgdGhpcy5wb3NzaWJsZURlc3RCb3hlcyA9IHRoaXMuaW5pdGlhbGl6ZUZhbHNlR3JpZCg4KTtcbiAgICB0aGlzLnByZXZNb3ZlID0geyBzcmM6IHsgcjogLTEsIGM6IC0xIH0sIGRzdDogeyByOiAtMSwgYzogLTEgfX07XG4gICAgdGhpcy5jYXB0dXJlcyA9IFtdO1xuICAgIHRoaXMuc2VsZWN0ZWRDYXB0dXJlcyA9IFtdO1xuICAgIHRoaXMuYm9hcmQgPSBbXTtcbiAgfVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHshbnVtYmVyfVxuICovXG5leHBvcnQgdHlwZSBQbGF5ZXIgPSBudW1iZXI7XG5cbi8qKlxuICogQHR5cGUgeyFQbGF5ZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBQTEFZRVJfV0hJVEU6IFBsYXllciA9IDA7XG5cbi8qKlxuICogQHR5cGUgeyFQbGF5ZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBQTEFZRVJfQkxBQ0s6IFBsYXllciA9IDE7XG5cbi8qKlxuICogQHR5cGVkZWYgeyFBcnJheTxCb3g+fVxuICovXG4vLyBleHBvcnQgdHlwZSBCb2FyZCA9IEFycmF5PEJveD47IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgRW1wdHlQaWVjZSwgR2FtZVN0YXRlLCBCb2FyZCwgU3RvcmVTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmUge1xuICBwcml2YXRlIHJlYWRvbmx5IF9zdGF0ZTogU3RvcmVTdGF0ZTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBuZXcgU3RvcmVTdGF0ZTtcbiAgfVxuICBwdWJsaWMgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuICBwdWJsaWMgc2V0IHN0YXRlKHN0YXRlOiBTdG9yZVN0YXRlKSB7XG4gICAgdGhpcy5fc3RhdGUuZ2FtZVN0YXRlID0gc3RhdGUuZ2FtZVN0YXRlID8gc3RhdGUuZ2FtZVN0YXRlIDogdGhpcy5fc3RhdGUuZ2FtZVN0YXRlO1xuICAgIHRoaXMuX3N0YXRlLmJvYXJkID0gc3RhdGUuYm9hcmQgPyBzdGF0ZS5ib2FyZCA6IHRoaXMuX3N0YXRlLmJvYXJkO1xuICAgIHRoaXMuX3N0YXRlLnNlbGVjdGVkQm94ZXMgPSBzdGF0ZS5zZWxlY3RlZEJveGVzID8gc3RhdGUuc2VsZWN0ZWRCb3hlcyA6IHRoaXMuX3N0YXRlLnNlbGVjdGVkQm94ZXM7XG4gICAgdGhpcy5fc3RhdGUucG9zc2libGVEZXN0Qm94ZXMgPSBzdGF0ZS5wb3NzaWJsZURlc3RCb3hlcyA/IHN0YXRlLnBvc3NpYmxlRGVzdEJveGVzIDogdGhpcy5fc3RhdGUucG9zc2libGVEZXN0Qm94ZXM7XG4gICAgdGhpcy5fc3RhdGUucHJldk1vdmUgPSBzdGF0ZS5wcmV2TW92ZSA/IHN0YXRlLnByZXZNb3ZlIDogdGhpcy5fc3RhdGUucHJldk1vdmU7XG4gICAgdGhpcy5fc3RhdGUuY2FwdHVyZXMgPSBzdGF0ZS5jYXB0dXJlcyA/IHN0YXRlLmNhcHR1cmVzIDogdGhpcy5fc3RhdGUuY2FwdHVyZXM7XG4gICAgdGhpcy5fc3RhdGUuc2VsZWN0ZWRDYXB0dXJlcyA9IHN0YXRlLnNlbGVjdGVkQ2FwdHVyZXMgPyBzdGF0ZS5zZWxlY3RlZENhcHR1cmVzIDogdGhpcy5fc3RhdGUuc2VsZWN0ZWRDYXB0dXJlcztcbiAgfVxufSIsIi8vIFRoaXMgZmlsZSwgYXMgd2l0aCBtb3N0IG9mIGZyb250X2VuZCwgaXMgaW5zcGlyZWQgYnkgYW5kIG1vc3RseSB0YWtlbiBmcm9tIFRvZG9NVkMvdmFuaWxsYS1lczZcbi8vIHJlc3BlY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS90YXN0ZWpzL3RvZG9tdmMvdHJlZS9naC1wYWdlcy9leGFtcGxlcy92YW5pbGxhLWVzNlxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBxdWVyeVNlbGVjdG9yIHdyYXBwZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHFzKHNlbGVjdG9yOiBzdHJpbmcsIHNjb3BlPzogRWxlbWVudCkge1xuICAgIHJldHVybiAoc2NvcGUgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBhZGRFdmVudExpc3RlbmVyIHdyYXBwZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uICRvbih0YXJnZXQ6IEVsZW1lbnQgfCBXaW5kb3csIHR5cGU6IHN0cmluZywgY2FsbGJhY2s6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QsIGNhcHR1cmU/OiBib29sZWFuIHwgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMpOiB2b2lkIHsgLy8gQHRvZG8gZml4IGNhbGxiYWNrIHR5cGVcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgISFjYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBBdHRhY2ggYSBoYW5kbGVyIHRvIGFuIGV2ZW50IGZvciBhbGwgZWxlbWVudHMgbWF0Y2hpbmcgYSBzZWxlY3RvclxuICogXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBFbGVtZW50IHdoaWNoIHRoZSBldmVudCBtdXN0IGJ1YmJsZSB0b1xuICovXG4vLyAuLi4uXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIEVuY29kZSBsZXNzLXRoYW4gYW5kIGFtcGVyc2FuZCBjaGFyYWN0ZXJzIHdpdGggSFRNTC1zYWZlIHZlcnNpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHMgU3RyaW5nIHRvIGVzY2FwZVxuICogQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHdpdGggdW5zYWZlIGNoYXJhY3RlcnMgZXNjYXBlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGVzY2FwZUZvckhUTUwgPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHMucmVwbGFjZSgvWyY8XS9nLCBjID0+IGMgPT09ICcmJyA/ICcmYW1wOycgOiAnJmx0OycpOyIsImltcG9ydCB7IEJvYXJkLCBQaWVjZSwgU3RvcmVTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHsgZXNjYXBlRm9ySFRNTCB9IGZyb20gJy4vaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbXBsYXRlIHtcbiAgICAvKipcbiAgICAgKiBGb3JtYXQgdGhlIGNvbnRlbnQgb2YgdGhlIGJvYXJkIGJ5OlxuICAgICAqIDEpIENyZWF0aW5nIGVhY2ggYm94IGluIGEgdGFibGUgcmVwcmVzZW50YXRpb247XG4gICAgICogMikgUGxhY2luZyBlYWNoIHBpZWNlIGluIGl0cyBjb3JyZXNwb25kaW5nIGJveC5cbiAgICAgKi9cbiAgICBCb2FyZChzdGF0ZTogU3RvcmVTdGF0ZSk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCBwaWVjZXM6IEFycmF5PEFycmF5PFBpZWNlPj4gPSBzdGF0ZS5ib2FyZDtcbiAgICAgICAgbGV0IGJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9hcmQnKTtcbiAgICAgICAgbGV0IGJveFBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgODsgcisrKSB7XG4gICAgICAgICAgICBsZXQgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCA4OyBjKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1wb3MnLCBTdHJpbmcoYm94UG9zKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSBwaWVjZXNbcl1bY107XG4gICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdwaWVjZScsIEpTT04uc3RyaW5naWZ5KHBpZWNlKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaWVjZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBwaWVjZURpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcGllY2UuY29sb3IgKyBwaWVjZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQocGllY2VEaXYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc2VsZWN0ZWRCb3hlc1tyXVtjXSkge1xuICAgICAgICAgICAgICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5wb3NzaWJsZURlc3RCb3hlc1tyXVtjXSkge1xuICAgICAgICAgICAgICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Bvc3NpYmxlRGVzdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICAgICAgICAgICAgYm94UG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2FyZC5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvYXJkO1xuICAgIH1cbiAgICBDYXB0dXJlZCh0eXBlOiBzdHJpbmcsIHN0YXRlOiBTdG9yZVN0YXRlKTogRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNhcHR1cmVzID0gc3RhdGUuY2FwdHVyZXM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FwdHVyZXMgPSBzdGF0ZS5zZWxlY3RlZENhcHR1cmVzO1xuICAgICAgICBsZXQgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwaWVjZSA9IGNhcHR1cmVzW2ldO1xuICAgICAgICAgICAgaWYgKHBpZWNlLm5hbWUgJiYgcGllY2UubmFtZS5pbmRleE9mKHR5cGUpID09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgICAgICAgIGxldCBwaWVjZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHBpZWNlRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBwaWVjZS5jb2xvciArIHBpZWNlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZENhcHR1cmVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBwaWVjZS5jb2xvciArIHBpZWNlLm5hbWUgKyAnIHNlbGVjdGVkQ2FwdHVyZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChwaWVjZURpdik7XG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cjtcbiAgICB9XG4gICAgQ2FwdHVyZWRXaGl0ZShzdGF0ZTogU3RvcmVTdGF0ZSk6IEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5DYXB0dXJlZCgnd2hpdGUnLCBzdGF0ZSk7XG4gICAgfVxuICAgIENhcHR1cmVkQmxhY2soc3RhdGU6IFN0b3JlU3RhdGUpOiBFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ2FwdHVyZWQoJ2JsYWNrJywgc3RhdGUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCb2FyZCwgQm94LCBQaWVjZSwgU3RvcmVTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHFzLCAkb24gfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IFRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcbiAgICBwcml2YXRlIF90ZW1wbGF0ZTogVGVtcGxhdGU7XG4gICAgcHJpdmF0ZSBfJGJvYXJkOiBFbGVtZW50O1xuICAgIHByaXZhdGUgXyRjYXB0dXJlZHdoaXRlOiBFbGVtZW50O1xuICAgIHByaXZhdGUgXyRjYXB0dXJlZGJsYWNrOiBFbGVtZW50O1xuICAgIHByaXZhdGUgXyRtYWluOiBFbGVtZW50O1xuICAgIHByaXZhdGUgXyR1bmRvYnRuOiBFbGVtZW50O1xuICAgIHByaXZhdGUgXyRyZWRvYnRuOiBFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gbmV3IFRlbXBsYXRlO1xuICAgICAgICB0aGlzLl8kYm9hcmQgPSBxcygnLmNoZXNzYm9hcmQnKTtcbiAgICAgICAgdGhpcy5fJGNhcHR1cmVkd2hpdGUgPSBxcygnLmNhcHR1cmVkd2hpdGUnKTtcbiAgICAgICAgdGhpcy5fJGNhcHR1cmVkYmxhY2sgPSBxcygnLmNhcHR1cmVkYmxhY2snKTtcbiAgICAgICAgdGhpcy5fJG1haW4gPSBxcygnLm1haW4nKTtcbiAgICAgICAgdGhpcy5fJHVuZG9idG4gPSBxcygnLnVuZG8nKTtcbiAgICAgICAgdGhpcy5fJHJlZG9idG4gPSBxcygnLnJlZG8nKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0ICRib2FyZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRib2FyZDtcbiAgICB9XG4gICAgcHVibGljIGdldCAkY2FwdHVyZWR3aGl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRjYXB0dXJlZHdoaXRlO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0ICRjYXB0dXJlZGJsYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGNhcHR1cmVkYmxhY2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZXMgdGhlIGNoZXNzYm9hcmQgaHRtbC5cbiAgICAgKi9cbiAgICBzaG93Qm9hcmQoc3RhdGU6IFN0b3JlU3RhdGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4kYm9hcmQucmVwbGFjZUNoaWxkKHRoaXMuX3RlbXBsYXRlLkJvYXJkKHN0YXRlKSwgdGhpcy4kYm9hcmQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZXMgdGhlIGNhcHR1cmVkIHBpZWNlcyBpbiB0aGUgaHRtbC5cbiAgICAgKi9cbiAgICBzaG93Q2FwdHVyZXMoc3RhdGU6IFN0b3JlU3RhdGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy4kY2FwdHVyZWR3aGl0ZS5yZXBsYWNlQ2hpbGQodGhpcy5fdGVtcGxhdGUuQ2FwdHVyZWRXaGl0ZShzdGF0ZSksIHRoaXMuJGNhcHR1cmVkd2hpdGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIHRoaXMuJGNhcHR1cmVkYmxhY2sucmVwbGFjZUNoaWxkKHRoaXMuX3RlbXBsYXRlLkNhcHR1cmVkQmxhY2soc3RhdGUpLCB0aGlzLiRjYXB0dXJlZGJsYWNrLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBCaW5kcyBoYW5kbGVyIHRvIGJveCwgY2FsbGluZyBoYW5kbGVyIHdoZW4gdGhlIHN5bnRoZXRpYyAnY2xpY2snIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqL1xuICAgIGJpbmRTZWxlY3RCb3goYm94OiBFbGVtZW50LCBoYW5kbGVyOiAoYm94OiBFbGVtZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgICRvbihib3gsICdjbGljaycsICgpID0+IGhhbmRsZXIoYm94KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEJpbmRzIGhhbmRsZXIgdG8gcGllY2UsIGNhbGxpbmcgaGFuZGxlciB3aGVuIHRoZSBzeW50aGV0aWMgJ2NsaWNrJyBldmVudCBpcyBmaXJlZC5cbiAgICAgKi9cbiAgICBiaW5kQ2FwdHVyZWRQaWVjZShwaWVjZTogRWxlbWVudCwgaTogbnVtYmVyLCBoYW5kbGVyOiAocGllY2U6IEVsZW1lbnQsIGk6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICAkb24ocGllY2UsICdjbGljaycsICgpID0+IGhhbmRsZXIocGllY2UsIGkpKTtcbiAgICB9XG5cbiAgICBiaW5kVW5kb01vdmUoaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgLy8gJG9uKHRoaXMuJHVuZG9idG4sICdjbGljaycsICgpID0+IGhhbmRsZXIoKSk7XG4gICAgfVxuXG4gICAgYmluZFJlZG9Nb3ZlKGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgICAgIC8vICRvbih0aGlzLiRyZWRvYnRuLCAnY2xpY2snLCAoKSA9PiBoYW5kbGVyKCkpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCb3gsIFBpZWNlLCBFbXB0eVBpZWNlLCBHYW1lU3RhdGUsIFBMQVlFUl9XSElURSwgUExBWUVSX0JMQUNLLCBQbGF5ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5jb25zdCBQaWVjZUhlbHBlciA9IHtcbiAgZ2V0TnVtTW92ZXM6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYm94OiBCb3gpID0+IC0xLFxuICBpc0VtcHR5OiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJveDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSxcbiAgaXNQaWVjZU9mR2l2ZW5QbGF5ZXI6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcGxheWVyOiBQbGF5ZXIsIGJveDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSxcbiAgaXNQaWVjZU9mQ3VycmVudFBsYXllcjogKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBib3g6IEJveCk6IGJvb2xlYW4gPT4gZmFsc2UsIFxuICBpc0JveE9uQm9hcmQ6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgYm94OiBCb3gpOiBib29sZWFuID0+IGZhbHNlLCBcbiAgaXNWYWxpZFNvdXJjZUFuZERlc3Q6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSwgXG4gIGNhbkdvQWxvbmdSb3dUb0Rlc3Q6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSwgXG4gIGNhbkdvQWxvbmdDb2xUb0Rlc3Q6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSwgXG4gIGNhbkdvQWxvbmdMaW5lVG9EZXN0OiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBkc3Q6IEJveCk6IGJvb2xlYW4gPT4gZmFsc2UsIFxuICBjYW5Hb0Fsb25nRGlhZ29uYWxUb0Rlc3Q6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSwgXG59O1xuLyoqXG4gKiBAcGFyYW0ge0dhbWVTdGF0ZX0gZ2FtZVN0YXRlXG4gKiBAcGFyYW0ge0JveH0gYm94XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQHRvZG8gaGFuZGxlIGVycm9yIGNhc2Ugd2hlcmUgY29kZSBkb2Vzbid0IG1hdGNoIGluIG1vcmUgbWVhbmluZ2Z1bCB3YXksIGJldHRlciBmb3IgdGVzdGluZy5cbiAqL1xuUGllY2VIZWxwZXIuZ2V0TnVtTW92ZXMgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJveDogQm94KTogbnVtYmVyID0+IHtcbiAgY29uc3QgcyA9IGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhib3gpO1xuICBsZXQgY29kZU1hdGNoID0gcy5tYXRjaCgvKFthLXpBLXpdKShcXGQqKS8pO1xuICBsZXQgbnVtTW92ZXMgPSBjb2RlTWF0Y2ggJiYgY29kZU1hdGNoLmxlbmd0aCA+IDIgJiYgIWlzTmFOKE51bWJlcihjb2RlTWF0Y2hbMl0pKSA/IE51bWJlcihjb2RlTWF0Y2hbMl0pIDogLTE7IC8vIC0xIHNob3VsZCBuZXZlciBoYXBwZW4sIHRob3VnaC5cbiAgcmV0dXJuIG51bU1vdmVzO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7R2FtZVN0YXRlfSBnYW1lU3RhdGVcbiAqIEBwYXJhbSB7Qm94fSBib3hcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5QaWVjZUhlbHBlci5pc0VtcHR5ID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBib3g6IEJveCk6IGJvb2xlYW4gPT4gZ2FtZVN0YXRlLmdldEVuY29kaW5nKGJveCkudHJpbSgpID09PSAnJztcbi8qKlxuICogXG4gKiBAcGFyYW0ge0dhbWVTdGF0ZX0gZ2FtZVN0YXRlIFxuICogQHBhcmFtIHtudW1iZXJ9IHBsYXllciBcbiAqIEBwYXJhbSB7Qm94fSBib3hcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5QaWVjZUhlbHBlci5pc1BpZWNlT2ZHaXZlblBsYXllciA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgcGxheWVyOiBQbGF5ZXIsIGJveDogQm94KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHMgPSBnYW1lU3RhdGUuZ2V0RW5jb2RpbmcoYm94KTtcbiAgbGV0IGNvZGVNYXRjaCA9IHMubWF0Y2goLyhbYS16QS16XSkoXFxkKikvKTtcbiAgbGV0IGFscGhhY29kZSA9IGNvZGVNYXRjaC5sZW5ndGggPiAxID8gY29kZU1hdGNoWzFdIDogbnVsbDtcbiAgaWYgKCFhbHBoYWNvZGUpIHJldHVybiBmYWxzZTtcbiAgaWYgKChwbGF5ZXIgPT0gUExBWUVSX1dISVRFICYmIGFscGhhY29kZSA9PSBhbHBoYWNvZGUudG9VcHBlckNhc2UoKSkgfHwgKHBsYXllciA9PSBQTEFZRVJfQkxBQ0sgJiYgYWxwaGFjb2RlID09IGFscGhhY29kZS50b0xvd2VyQ2FzZSgpKSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cblBpZWNlSGVscGVyLmlzUGllY2VPZkN1cnJlbnRQbGF5ZXIgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJveDogQm94KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGNoZWNrUGFydGljdWxhclBsYXllciA9IChwbGF5ZXJDYXNlOiAoczogc3RyaW5nKSA9PiBzdHJpbmcsIHtjOiBjLCByOiByfSA9IGJveCk6IGJvb2xlYW4gPT5cbiAgICAoZ2FtZVN0YXRlLmdldEVuY29kaW5nKGJveCkgPT09IHBsYXllckNhc2UuYXBwbHkoZ2FtZVN0YXRlLmdldEVuY29kaW5nKGJveCkpKSAmJiAhUGllY2VIZWxwZXIuaXNFbXB0eShnYW1lU3RhdGUsIGJveCk7XG4gIHJldHVybiBnYW1lU3RhdGUucGxheWVyID09PSBQTEFZRVJfV0hJVEUgP1xuICAgIGNoZWNrUGFydGljdWxhclBsYXllcihTdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlKSA6IGNoZWNrUGFydGljdWxhclBsYXllcihTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlKTtcbn1cbi8qKlxuICogXG4gKiBAcGFyYW0ge0dhbWVTdGF0ZX0gZ2FtZVN0YXRlIFxuICogQHBhcmFtIHtCb3h9IGJveCBcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5QaWVjZUhlbHBlci5pc0JveE9uQm9hcmQgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGJveDogQm94KTogYm9vbGVhbiA9PiBib3guciA8IGdhbWVTdGF0ZS5yYW5rQ291bnQgJiYgYm94LnIgPj0gMCAmJiBib3guYyA+PSAwICYmIGJveC5jIDwgZ2FtZVN0YXRlLmZpbGVDb3VudDtcbi8qKlxuICogXG4gKiBAcGFyYW0ge0dhbWVTdGF0ZX0gZ2FtZVN0YXRlIFxuICogQHBhcmFtIHtCb3h9IHNyYyBcbiAqIEBwYXJhbSB7Qm94fSBkc3QgXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuUGllY2VIZWxwZXIuaXNWYWxpZFNvdXJjZUFuZERlc3QgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBkc3Q6IEJveCk6IGJvb2xlYW4gPT4gUGllY2VIZWxwZXIuaXNQaWVjZU9mQ3VycmVudFBsYXllcihnYW1lU3RhdGUsc3JjKSAmJiAhUGllY2VIZWxwZXIuaXNQaWVjZU9mQ3VycmVudFBsYXllcihnYW1lU3RhdGUsZHN0KSAmJiBQaWVjZUhlbHBlci5pc0JveE9uQm9hcmQoZ2FtZVN0YXRlLGRzdCkgJiYgc3JjICE9IGRzdDtcbi8qKlxuICogXG4gKiBAcGFyYW0ge0dhbWVTdGF0ZX0gZ2FtZVN0YXRlIFxuICogQHBhcmFtIHtCb3h9IHNyYyBcbiAqIEBwYXJhbSB7Qm94fSBkc3QgXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuUGllY2VIZWxwZXIuY2FuR29BbG9uZ1Jvd1RvRGVzdCA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiB7XG4gIGlmIChzcmMuciA9PSBkc3Qucikge1xuICAgIGNvbnN0IGRpciA9IGRzdC5jID4gc3JjLmMgPyAxIDogLTE7XG4gICAgbGV0IGxlbiA9IE1hdGguYWJzKGRzdC5jLXNyYy5jKTtcbiAgICBmb3IgKGxldCBpID0gc3JjLmMrZGlyOyBsZW4tLSA+IDE7IGkgKz0gZGlyKSBpZiAoIVBpZWNlSGVscGVyLmlzRW1wdHkoZ2FtZVN0YXRlLHtyOnNyYy5yLGM6aX0pKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7R2FtZVN0YXRlfSBnYW1lU3RhdGUgXG4gKiBAcGFyYW0ge0JveH0gc3JjIFxuICogQHBhcmFtIHtCb3h9IGRzdCBcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5QaWVjZUhlbHBlci5jYW5Hb0Fsb25nQ29sVG9EZXN0ID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgZHN0OiBCb3gpOiBib29sZWFuID0+IHtcbiAgaWYgKHNyYy5jID09IGRzdC5jKSB7XG4gICAgY29uc3QgZGlyID0gZHN0LnIgPiBzcmMuciA/IDEgOiAtMTtcbiAgICBsZXQgbGVuID0gTWF0aC5hYnMoZHN0LnItc3JjLnIpO1xuICAgIGZvciAobGV0IGkgPSBzcmMucitkaXI7IGxlbi0tID4gMTsgaSArPSBkaXIpIGlmICghUGllY2VIZWxwZXIuaXNFbXB0eShnYW1lU3RhdGUse3I6aSxjOnNyYy5jfSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHtHYW1lU3RhdGV9IGdhbWVTdGF0ZSBcbiAqIEBwYXJhbSB7Qm94fSBzcmNcbiAqIEBwYXJhbSB7Qm94fSBkc3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5QaWVjZUhlbHBlci5jYW5Hb0Fsb25nTGluZVRvRGVzdCA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiBQaWVjZUhlbHBlci5jYW5Hb0Fsb25nQ29sVG9EZXN0KGdhbWVTdGF0ZSwgc3JjLCBkc3QpIHx8IFBpZWNlSGVscGVyLmNhbkdvQWxvbmdSb3dUb0Rlc3QoZ2FtZVN0YXRlLCBzcmMsIGRzdCk7XG4vKipcbiAqIFxuICogQHBhcmFtIHtHYW1lU3RhdGV9IGdhbWVTdGF0ZSBcbiAqIEBwYXJhbSB7Qm94fSBzcmMgXG4gKiBAcGFyYW0ge0JveH0gZHN0IFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblBpZWNlSGVscGVyLmNhbkdvQWxvbmdEaWFnb25hbFRvRGVzdCA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiB7IC8vIG5hdHVyYWwgZnVuY3Rpb25hbGl0eSBmb3IgYmlzaG9wXG4gIGlmIChNYXRoLmFicygoZHN0LnIgLSBzcmMucikvKGRzdC5jIC0gc3JjLmMpKSAhPSAxKSByZXR1cm4gZmFsc2U7XG4gIGxldCBsZW4gPSBNYXRoLmFicyhkc3QuYyAtIHNyYy5jKTtcbiAgY29uc3Qgcm93RGlyID0gZHN0LnIgLSBzcmMuciA+IDAgPyAxIDogLTE7XG4gIGNvbnN0IGNvbERpciA9IGRzdC5jIC0gc3JjLmMgPiAwID8gMSA6IC0xO1xuICBsZXQgaSA9IHNyYy5yK3Jvd0RpcjtcbiAgbGV0IGogPSBzcmMuYytjb2xEaXI7XG4gIGZvciAoOyBsZW4tLSA+IDE7IGkgKz0gcm93RGlyLCBqICs9IGNvbERpcikgaWYgKCFQaWVjZUhlbHBlci5pc0VtcHR5KGdhbWVTdGF0ZSx7cjppLGM6an0pKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IHtQaWVjZUhlbHBlcn07IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgR2FtZVN0YXRlLCBQTEFZRVJfV0hJVEUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBQaWVjZUhlbHBlciB9IGZyb20gJy4vcGllY2VoZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXduIGltcGxlbWVudHMgUGllY2Uge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICBwdWJsaWMgY29sb3I6IHN0cmluZztcbiAgcHVibGljIGdldFBvc3NpYmxlTW92ZXM6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIG51bU1vdmVzPzogbnVtYmVyKSA9PiAoZHN0OiBCb3gpID0+IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSAncGF3bic7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMuZ2V0UG9zc2libGVNb3ZlcyA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsbnVtTW92ZXM/OiBudW1iZXIpOiAoZHN0OiBCb3gpID0+IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKG51bU1vdmVzID09PSB1bmRlZmluZWQpIG51bU1vdmVzID0gUGllY2VIZWxwZXIuZ2V0TnVtTW92ZXMoZ2FtZVN0YXRlLHNyYyk7XG4gICAgICBjb25zdCBmb3J3YXJkRGlyZWN0aW9uT2ZDdXJyZW50UGxheWVyID0gKCkgPT4gZ2FtZVN0YXRlLnBsYXllciA9PSBQTEFZRVJfV0hJVEUgPyAtMSA6IDE7XG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7IUJveH0gZHN0IFxuICAgICAgICogQHlpZWxkcyB7Ym9vbGVhbn0gUmV0dXJucyBhIChjdXJyaWVkKSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBib29sZWFuICh3aGVuIGFwcGxpZWQpLlxuICAgICAgICovXG4gICAgICBjb25zdCBpc1Bvc3NpYmxlVG9Nb3ZlVG8gPSAoZHN0OiBCb3gpOiBib29sZWFuID0+IHtcbiAgICAgICAgaWYgKCFQaWVjZUhlbHBlci5pc1ZhbGlkU291cmNlQW5kRGVzdChnYW1lU3RhdGUsc3JjLGRzdCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgZGlyID0gZm9yd2FyZERpcmVjdGlvbk9mQ3VycmVudFBsYXllcigpO1xuICAgICAgICBjb25zdCBwYXduQ2FuTW92ZTFGb3J3YXJkID0gUGllY2VIZWxwZXIuaXNFbXB0eShnYW1lU3RhdGUsZHN0KSAmJiBzcmMuYyA9PSBkc3QuYyAmJiBkc3QuciA9PSBzcmMuciArIGRpcjtcbiAgICAgICAgY29uc3QgaW5CZXR3ZWVuU3F1YXJlID0ge1xuICAgICAgICAgIHI6IHNyYy5yICsgZGlyLFxuICAgICAgICAgIGM6IGRzdC5jXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBhd25DYW5Nb3ZlMkZvcndhcmQgPSBudW1Nb3ZlcyA9PSAwICYmIFBpZWNlSGVscGVyLmlzRW1wdHkoZ2FtZVN0YXRlLGRzdCkgJiYgUGllY2VIZWxwZXIuaXNFbXB0eShnYW1lU3RhdGUsaW5CZXR3ZWVuU3F1YXJlKSAmJiBzcmMuYyA9PSBkc3QuYyAmJiBkc3QuciA9PSBzcmMuciArMipkaXI7XG4gICAgICAgIGNvbnN0IHBhd25DYW5BdHRhY2sgPSAhUGllY2VIZWxwZXIuaXNQaWVjZU9mQ3VycmVudFBsYXllcihnYW1lU3RhdGUsZHN0KSAmJiAhUGllY2VIZWxwZXIuaXNFbXB0eShnYW1lU3RhdGUsZHN0KSAmJiBkc3QuciA9PSBzcmMuciArIGRpciAmJiAoZHN0LmMgPT0gc3JjLmMgKyAxIHx8IGRzdC5jID09IHNyYy5jIC0gMSk7XG4gICAgICAgIHJldHVybiBwYXduQ2FuTW92ZTFGb3J3YXJkIHx8IHBhd25DYW5Nb3ZlMkZvcndhcmQgfHwgcGF3bkNhbkF0dGFjaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1Bvc3NpYmxlVG9Nb3ZlVG87XG4gICAgfTtcbiAgfVxufSIsImltcG9ydCB7IEJveCwgUGllY2UsIEdhbWVTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFBpZWNlSGVscGVyIH0gZnJvbSAnLi9waWVjZWhlbHBlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb2sgaW1wbGVtZW50cyBQaWVjZSB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBjb2xvcjogc3RyaW5nO1xuICBwdWJsaWMgZ2V0UG9zc2libGVNb3ZlczogKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgbnVtTW92ZXM/OiBudW1iZXIpID0+IChkc3Q6IEJveCkgPT4gYm9vbGVhbjtcbiAgY29uc3RydWN0b3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMubmFtZSA9ICdyb29rJztcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5nZXRQb3NzaWJsZU1vdmVzID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCxudW1Nb3Zlcz86IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgaXNQb3NzaWJsZVRvTW92ZVRvID0gKGRzdDogQm94KTogYm9vbGVhbiA9PlxuICAgICAgICBQaWVjZUhlbHBlci5pc1ZhbGlkU291cmNlQW5kRGVzdChnYW1lU3RhdGUsc3JjLGRzdCkgP1xuICAgICAgICBQaWVjZUhlbHBlci5jYW5Hb0Fsb25nUm93VG9EZXN0KGdhbWVTdGF0ZSxzcmMsZHN0KSB8fCBQaWVjZUhlbHBlci5jYW5Hb0Fsb25nQ29sVG9EZXN0KGdhbWVTdGF0ZSxzcmMsZHN0KSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIGlzUG9zc2libGVUb01vdmVUbztcbiAgICB9O1xuICB9XG59IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgR2FtZVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUGllY2VIZWxwZXIgfSBmcm9tICcuL3BpZWNlaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS25pZ2h0IGltcGxlbWVudHMgUGllY2Uge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICBwdWJsaWMgY29sb3I6IHN0cmluZztcbiAgcHVibGljIGdldFBvc3NpYmxlTW92ZXM6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIG51bU1vdmVzPzogbnVtYmVyKSA9PiAoZHN0OiBCb3gpID0+IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSAna25pZ2h0JztcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5nZXRQb3NzaWJsZU1vdmVzID0gKGdhbWVTdGF0ZSxzcmMsbnVtTW92ZXMpID0+IHtcbiAgICAgIGNvbnN0IGlzUG9zc2libGVUb01vdmVUbyA9IChkc3Q6IEJveCk6IGJvb2xlYW4gPT5cbiAgICAgICAgUGllY2VIZWxwZXIuaXNWYWxpZFNvdXJjZUFuZERlc3QoZ2FtZVN0YXRlLHNyYyxkc3QpICYmXG4gICAgICAgICgoTWF0aC5hYnMoc3JjLnItZHN0LnIpID09IDEgJiYgTWF0aC5hYnMoc3JjLmMtZHN0LmMpID09IDIpIHx8IChNYXRoLmFicyhzcmMuYy1kc3QuYykgPT0gMSAmJiBNYXRoLmFicyhzcmMuci1kc3QucikgPT0gMikpID9cbiAgICAgICAgdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIGlzUG9zc2libGVUb01vdmVUbztcbiAgICB9O1xuICB9XG59IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgR2FtZVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUGllY2VIZWxwZXIgfSBmcm9tICcuL3BpZWNlaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmlzaG9wIGltcGxlbWVudHMgUGllY2Uge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICBwdWJsaWMgY29sb3I6IHN0cmluZztcbiAgcHVibGljIGdldFBvc3NpYmxlTW92ZXM6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIG51bU1vdmVzPzogbnVtYmVyKSA9PiAoZHN0OiBCb3gpID0+IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5hbWUgPSAnYmlzaG9wJztcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5nZXRQb3NzaWJsZU1vdmVzID0gZnVuY3Rpb24oZ2FtZVN0YXRlLCBzcmM6IEJveCwgbnVtTW92ZXM/OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGlzUG9zc2libGVUb01vdmVUbyA9IChkc3Q6IEJveCkgPT4ge1xuICAgICAgICByZXR1cm4gUGllY2VIZWxwZXIuaXNWYWxpZFNvdXJjZUFuZERlc3QoZ2FtZVN0YXRlLHNyYyxkc3QpID9cbiAgICAgICAgUGllY2VIZWxwZXIuY2FuR29BbG9uZ0RpYWdvbmFsVG9EZXN0KGdhbWVTdGF0ZSxzcmMsZHN0KSA6IGZhbHNlO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc1Bvc3NpYmxlVG9Nb3ZlVG87XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgR2FtZVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUGllY2VIZWxwZXIgfSBmcm9tICcuL3BpZWNlaGVscGVyJztcblxuLyoqXG4gKiBAY2xhc3MgUXVlZW5cbiAqIEB0eXBlIHtQaWVjZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVlZW4gaW1wbGVtZW50cyBQaWVjZSB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBjb2xvcjogc3RyaW5nO1xuICBwdWJsaWMgZ2V0UG9zc2libGVNb3ZlczogKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgbnVtTW92ZXM/OiBudW1iZXIpID0+IChkc3Q6IEJveCkgPT4gYm9vbGVhbjtcbiAgY29uc3RydWN0b3IoY29sb3I6IHN0cmluZykge1xuICAgIHRoaXMubmFtZSA9ICdxdWVlbic7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIHRoaXMuZ2V0UG9zc2libGVNb3ZlcyA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsbnVtTW92ZXM/OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGlzUG9zc2libGVUb01vdmVUbyA9IChkc3Q6IEJveCk6IGJvb2xlYW4gPT5cbiAgICAgICAgUGllY2VIZWxwZXIuaXNWYWxpZFNvdXJjZUFuZERlc3QoZ2FtZVN0YXRlLHNyYyxkc3QpID9cbiAgICAgICAgUGllY2VIZWxwZXIuY2FuR29BbG9uZ1Jvd1RvRGVzdChnYW1lU3RhdGUsc3JjLGRzdCkgfHwgUGllY2VIZWxwZXIuY2FuR29BbG9uZ0NvbFRvRGVzdChnYW1lU3RhdGUsc3JjLGRzdCkgfHwgUGllY2VIZWxwZXIuY2FuR29BbG9uZ0RpYWdvbmFsVG9EZXN0KGdhbWVTdGF0ZSxzcmMsZHN0KSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIGlzUG9zc2libGVUb01vdmVUbztcbiAgICB9O1xuICB9XG59IiwiaW1wb3J0IHsgQm94LCBQaWVjZSwgR2FtZVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUGllY2VIZWxwZXIgfSBmcm9tICcuL3BpZWNlaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2luZyBpbXBsZW1lbnRzIFBpZWNlIHtcbiAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgcHVibGljIGNvbG9yOiBzdHJpbmc7XG4gIHB1YmxpYyBnZXRQb3NzaWJsZU1vdmVzOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBudW1Nb3Zlcz86IG51bWJlcikgPT4gKGRzdDogQm94KSA9PiBib29sZWFuO1xuICBwdWJsaWMgZ2V0UG9zc2libGVTcGVjaWFsTW92ZXM6IEZ1bmN0aW9uO1xuICBjb25zdHJ1Y3Rvcihjb2xvcjogc3RyaW5nLCBzcGVjaWFsTW92ZXM/OiBGdW5jdGlvbikge1xuICAgIHRoaXMubmFtZSA9ICdraW5nJztcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5nZXRQb3NzaWJsZVNwZWNpYWxNb3ZlcyA9IHNwZWNpYWxNb3ZlcztcbiAgICB0aGlzLmdldFBvc3NpYmxlTW92ZXMgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LG51bU1vdmVzPzogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBpc1Bvc3NpYmxlVG9Nb3ZlVG8gPSAoZHN0OiBCb3gpOiBib29sZWFuID0+IHtcbiAgICAgICAgaWYgKFBpZWNlSGVscGVyLmlzVmFsaWRTb3VyY2VBbmREZXN0KGdhbWVTdGF0ZSxzcmMsZHN0KSAmJiAoTWF0aC5hYnMoZHN0LmMtc3JjLmMpPT0xIHx8IE1hdGguYWJzKGRzdC5yLXNyYy5yKT09MSkpXG4gICAgICAgICAgcmV0dXJuIFBpZWNlSGVscGVyLmNhbkdvQWxvbmdSb3dUb0Rlc3QoZ2FtZVN0YXRlLHNyYyxkc3QpIHx8IFBpZWNlSGVscGVyLmNhbkdvQWxvbmdDb2xUb0Rlc3QoZ2FtZVN0YXRlLHNyYyxkc3QpIHx8IFBpZWNlSGVscGVyLmNhbkdvQWxvbmdEaWFnb25hbFRvRGVzdChnYW1lU3RhdGUsc3JjLGRzdClcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNQb3NzaWJsZVRvTW92ZVRvO1xuICAgIH07XG4gIH1cbn0iLCJpbXBvcnQgJ3BhdGgnO1xuaW1wb3J0IHsgQm94LCBQaWVjZSwgRW1wdHlQaWVjZSwgR2FtZVN0YXRlLCBCb2FyZCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFBpZWNlSGVscGVyIH0gZnJvbSAnLi9waWVjZWhlbHBlcic7XG5pbXBvcnQgUGF3biBmcm9tICcuL3Bhd24nO1xuaW1wb3J0IFJvb2sgZnJvbSAnLi9yb29rJztcbmltcG9ydCBLbmlnaHQgZnJvbSAnLi9rbmlnaHQnO1xuaW1wb3J0IEJpc2hvcCBmcm9tICcuL2Jpc2hvcCc7XG5pbXBvcnQgUXVlZW4gZnJvbSAnLi9xdWVlbic7XG5pbXBvcnQgS2luZyBmcm9tICcuL2tpbmcnO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBtb2R1bGUgaXMgcHVyZWx5IGZ1bmN0aW9uYWwgKHRoZXJlIHNoYWxsIGJlIG5vIHNpZGUtZWZmZWN0cykuXG4gKiAgRnVydGhlcm1vcmUsIGl0IGlzIHVwIHRvIHRoZSBjYWxsZXIgdG8gYWRlcXVhdGVseSBzdG9yZSB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nIHRoZXNlIHB1cmUgZnVuY3Rpb25zLlxuICovXG5jb25zdCBQaWVjZUdhbWVMb2dpYyA9IHsgLy8gZm9yIFR5cGVTY3JpcHRcbiAgY29udmVydEdTQm9hcmRUb1BpZWNlQm9hcmQ6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSk6IEFycmF5PEFycmF5PFBpZWNlPj4gPT4gW10sXG4gIGNvbnZlcnRQaWVjZVRvU3RyaW5nRW5jb2Rpbmc6IChwaWVjZTogUGllY2UsIHRpbWVzTW92ZWQ/OiBudW1iZXIpOiBzdHJpbmcgPT4gJycsXG4gIGdldFR5cGU6IChzOiBzdHJpbmcpOiBQaWVjZSA9PiA8UGllY2U+KG5ldyBFbXB0eVBpZWNlKSxcbiAgZ2V0TnVtTW92ZXM6IChzOiBzdHJpbmcpOiBudW1iZXIgPT4gLTEsXG4gIGdldFBvc3NpYmxlUGllY2VzVG9Qcm9tb3RlVG86IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gpOiBBcnJheTxCb3g+ID0+IFtdLFxuICBnZXRQb3NzaWJsZU1vdmVzOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsICBzcmM6IEJveCwgcHJldk1vdmU/OiB7IHNyYzogQm94LCBkc3Q6IEJveCB9KTogQXJyYXk8Qm94PiA9PiBbe3I6IC0xLCBjOiAtMX1dLFxuICBpc1Bvc3NpYmxlVG9Nb3ZlVG86IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgIHNyYzogQm94KTogRnVuY3Rpb24gPT4gKGJveDogQm94KTogYm9vbGVhbiA9PiBmYWxzZSxcbiAgaXNJbkNoZWNrOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsICBzcmM6IEJveCk6IGJvb2xlYW4gPT4gZmFsc2UsXG4gIGlzSW5DaGVja21hdGU6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgIHNyYzogQm94KTogYm9vbGVhbiA9PiBmYWxzZSxcbiAga2luZ0NhbkNhc3RsZVdpdGhHaXZlblJvb2s6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgIHNyYzogQm94LCBkc3Q6IEJveCk6IGJvb2xlYW4gPT4gZmFsc2UsXG4gIGNhc3RsZUtpbmdXaXRoR2l2ZW5Sb29rOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsICBzcmM6IEJveCwgZHN0OiBCb3gpOiBHYW1lU3RhdGUgPT4gZ2FtZVN0YXRlLFxuICBnZXRTZXRPZkFsbFBvc3NpYmxlTW92ZXNGb3JQbGF5ZXI6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgIHBsYXllcjogbnVtYmVyKTogU2V0PEJveD4gPT4gbmV3IFNldCgpLFxuICByYW5kb21EZWZlbnNpdmVNb3ZlOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUpOiBTZXQ8Qm94PiA9PiBuZXcgU2V0KCksXG4gIGlzQUNhcHR1cmU6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgIHNyYzogQm94LCBkc3Q6IEJveCk6IGJvb2xlYW4gPT4gZmFsc2UsXG4gIGlzRW5QYXNzYW50UG9zc2libGU6IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIHByZXZNb3ZlOiB7c3JjOiBCb3gsIGRzdDogQm94fSk6IGJvb2xlYW4gPT4gZmFsc2UsXG4gIGdldEJveE9mUHJvbW90YWJsZVBpZWNlSWZQb3NzaWJsZTogKGdhbWVTdGF0ZTogR2FtZVN0YXRlKTogQm94ID0+ICh7cjogLTEsIGM6IC0xfSksXG4gIHByb21vdGVJZlBvc3NpYmxlOiAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIGZpcnN0OiBCb3gsIHNlY29uZDogUGllY2UpOiBHYW1lU3RhdGUgPT4gZ2FtZVN0YXRlLFxuICBpbmNyZW1lbnRNb3ZlQ291bnQ6IChlbmM6IHN0cmluZyk6IHN0cmluZyA9PiAnJyxcbiAgbWFrZUxlZ2FsTW92ZTogKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgZHN0OiBCb3gsIHByZXZNb3ZlOiB7c3JjOiBCb3gsIGRzdDogQm94fSwgcGllY2VUb1Byb21vdGVUbz86IFBpZWNlKTogeyBnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgY2FwdHVyZWRQaWVjZTogUGllY2UgfSA9PiAoeyBnYW1lU3RhdGUsIGNhcHR1cmVkUGllY2U6IDxQaWVjZT4obmV3IEVtcHR5UGllY2UpIH0pLFxufTtcblBpZWNlR2FtZUxvZ2ljLmNvbnZlcnRHU0JvYXJkVG9QaWVjZUJvYXJkID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlKTogQXJyYXk8QXJyYXk8UGllY2U+PiA9PiB7XG4gIGNvbnN0IHBpZWNlQm9hcmQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lU3RhdGUucmFua0NvdW50OyBpKyspIHtcbiAgICBwaWVjZUJvYXJkLnB1c2goW10pO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZVN0YXRlLmZpbGVDb3VudDsgaisrKSB7XG4gICAgICBwaWVjZUJvYXJkW2ldLnB1c2goUGllY2VHYW1lTG9naWMuZ2V0VHlwZShnYW1lU3RhdGUuZ2V0RW5jb2RpbmcoeyByOiBpLCBjOiBqIH0pKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwaWVjZUJvYXJkO1xufTtcblBpZWNlR2FtZUxvZ2ljLmNvbnZlcnRQaWVjZVRvU3RyaW5nRW5jb2RpbmcgPSAocGllY2U6IFBpZWNlLCB0aW1lc01vdmVkID0gMCk6IHN0cmluZyA9PiB7XG4gICAgbGV0IGVuY29kaW5nID0gJyc7XG4gICAgaWYgKHBpZWNlIGluc3RhbmNlb2YgUGF3bikge1xuICAgICAgaWYgKHBpZWNlLmNvbG9yID09PSAnd2hpdGUnKSBlbmNvZGluZyA9ICdQJztcbiAgICAgIGVsc2UgZW5jb2RpbmcgPSAncCc7XG4gICAgfVxuICAgIGlmIChwaWVjZSBpbnN0YW5jZW9mIFJvb2spIHtcbiAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgZW5jb2RpbmcgPSAnUic7XG4gICAgICBlbHNlIGVuY29kaW5nID0gJ3InO1xuICAgIH1cbiAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBLbmlnaHQpIHtcbiAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgZW5jb2RpbmcgPSAnSCc7XG4gICAgICBlbHNlIGVuY29kaW5nID0gJ2gnO1xuICAgIH1cbiAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBCaXNob3ApIHtcbiAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgZW5jb2RpbmcgPSAnQic7XG4gICAgICBlbHNlIGVuY29kaW5nID0gJ2InO1xuICAgIH1cbiAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBRdWVlbikge1xuICAgICAgaWYgKHBpZWNlLmNvbG9yID09PSAnd2hpdGUnKSBlbmNvZGluZyA9ICdRJztcbiAgICAgIGVsc2UgZW5jb2RpbmcgPSAncSc7XG4gICAgfVxuICAgIGlmIChwaWVjZSBpbnN0YW5jZW9mIEtpbmcpIHtcbiAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ3doaXRlJykgZW5jb2RpbmcgPSAnSyc7XG4gICAgICBlbHNlIGVuY29kaW5nID0gJ2snO1xuICAgIH1cbiAgICBlbmNvZGluZyA9IGVuY29kaW5nID8gZW5jb2RpbmcrdGltZXNNb3ZlZCA6IGVuY29kaW5nO1xuICAgIHJldHVybiBlbmNvZGluZztcbn1cblBpZWNlR2FtZUxvZ2ljLmdldFR5cGUgPSAoczogc3RyaW5nKTogUGllY2UgPT4ge1xuICBpZiAocy50cmltKCkgPT09ICcnKSByZXR1cm4gbmV3IEVtcHR5UGllY2U7XG4gIGxldCBjb2RlTWF0Y2g6IEFycmF5PGFueT4gPSBzLm1hdGNoKC8oW2EtekEtel0pKFxcZCopLyk7XG4gIGxldCBudW1Nb3ZlczogbnVtYmVyID0gY29kZU1hdGNoICYmIGNvZGVNYXRjaC5sZW5ndGggPiAyID8gTnVtYmVyKGNvZGVNYXRjaFsyXSkgOiB1bmRlZmluZWQ7XG4gIGxldCBhbHBoYWNvZGU6IHN0cmluZyA9IGNvZGVNYXRjaC5sZW5ndGggPiAxID8gY29kZU1hdGNoWzFdIDogdW5kZWZpbmVkO1xuICBpZiAobnVtTW92ZXMgPT09IHVuZGVmaW5lZCB8fCBhbHBoYWNvZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG5ldyBFbXB0eVBpZWNlO1xuICBzd2l0Y2ggKGFscGhhY29kZS50cmltKCkpIHtcbiAgICBjYXNlICdwJzpcbiAgICAgIHJldHVybiBuZXcgUGF3bignYmxhY2snKTtcbiAgICBjYXNlICdyJzpcbiAgICAgIHJldHVybiBuZXcgUm9vaygnYmxhY2snKTtcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuZXcgS25pZ2h0KCdibGFjaycpO1xuICAgIGNhc2UgJ2InOlxuICAgICAgcmV0dXJuIG5ldyBCaXNob3AoJ2JsYWNrJyk7XG4gICAgY2FzZSAncSc6XG4gICAgICByZXR1cm4gbmV3IFF1ZWVuKCdibGFjaycpO1xuICAgIGNhc2UgJ2snOlxuICAgICAgY29uc3QgYmxhY2traW5nID0gbmV3IEtpbmcoJ2JsYWNrJywgUGllY2VHYW1lTG9naWMua2luZ0NhbkNhc3RsZVdpdGhHaXZlblJvb2spO1xuICAgICAgcmV0dXJuIGJsYWNra2luZztcbiAgICBjYXNlICdQJzpcbiAgICByZXR1cm4gbmV3IFBhd24oJ3doaXRlJyk7XG4gICAgY2FzZSAnUic6XG4gICAgICByZXR1cm4gbmV3IFJvb2soJ3doaXRlJyk7XG4gICAgY2FzZSAnSCc6XG4gICAgICByZXR1cm4gbmV3IEtuaWdodCgnd2hpdGUnKTtcbiAgICBjYXNlICdCJzpcbiAgICAgIHJldHVybiBuZXcgQmlzaG9wKCd3aGl0ZScpO1xuICAgIGNhc2UgJ1EnOlxuICAgICAgcmV0dXJuIG5ldyBRdWVlbignd2hpdGUnKTtcbiAgICBjYXNlICdLJzpcbiAgICAgIGNvbnN0IHdoaXRla2luZyA9IG5ldyBLaW5nKCd3aGl0ZScsIFBpZWNlR2FtZUxvZ2ljLmtpbmdDYW5DYXN0bGVXaXRoR2l2ZW5Sb29rKTtcbiAgICAgIHJldHVybiB3aGl0ZWtpbmc7XG4gICAgY2FzZSAnJzpcbiAgICAgIHJldHVybiBuZXcgRW1wdHlQaWVjZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBFbXB0eVBpZWNlO1xuICAgIH1cbn07XG4vKipcbiAqIEB0b2RvIGhhbmRsZSBlcnJvciBjYXNlIHdoZXJlIGNvZGUgZG9lc24ndCBtYXRjaCBpbiBtb3JlIG1lYW5pbmdmdWwgd2F5LCBiZXR0ZXIgZm9yIHRlc3RpbmcuXG4gKi9cblBpZWNlR2FtZUxvZ2ljLmdldE51bU1vdmVzID0gKHM6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gIGNvbnN0IGNvZGVNYXRjaDogQXJyYXk8c3RyaW5nPiA9IHMubWF0Y2goLyhbYS16QS16XSkoXFxkKikvKTtcbiAgY29uc3QgbnVtTW92ZXM6IG51bWJlciA9IGNvZGVNYXRjaCAmJiBjb2RlTWF0Y2gubGVuZ3RoID4gMiAmJiAhTnVtYmVyLmlzTmFOKE51bWJlcihjb2RlTWF0Y2hbMl0pKSA/IE51bWJlcihjb2RlTWF0Y2hbMl0pIDogLTE7IC8vIC0xIHNob3VsZCBuZXZlciBoYXBwZW4sIHRob3VnaC5cbiAgcmV0dXJuIG51bU1vdmVzO1xufTtcblBpZWNlR2FtZUxvZ2ljLmdldFBvc3NpYmxlUGllY2VzVG9Qcm9tb3RlVG8gPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94KTogQXJyYXk8Qm94PiA9PiB7XG4gIGNvbnN0IHZhbGlkUHJvbW90aW9uczogQXJyYXk8Qm94PiA9IFtdO1xuICBjb25zdCBwcm9tb3RhYmxlQm94ID0gUGllY2VHYW1lTG9naWMuZ2V0Qm94T2ZQcm9tb3RhYmxlUGllY2VJZlBvc3NpYmxlKGdhbWVTdGF0ZSk7XG4gIGlmIChwcm9tb3RhYmxlQm94ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzcmNQaWVjZSA9IFBpZWNlR2FtZUxvZ2ljLmdldFR5cGUoZ2FtZVN0YXRlLmdldEVuY29kaW5nKHNyYykpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZVN0YXRlLnJhbmtDb3VudDsgaSsrKVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnYW1lU3RhdGUuZmlsZUNvdW50OyBqKyspIHtcbiAgICAgICAgY29uc3QgYm94ID0geyByOiBpLCBjOiBqIH07XG4gICAgICAgIGNvbnN0IG90aGVyUGllY2UgPSBQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKGdhbWVTdGF0ZS5nZXRFbmNvZGluZyh7cjogaSwgYzogan0pKTtcbiAgICAgICAgaWYgKHNyY1BpZWNlLmNvbG9yID09PSBvdGhlclBpZWNlLmNvbG9yXG4gICAgICAgICAgICAmJiAhKG90aGVyUGllY2UgaW5zdGFuY2VvZiBQYXduKSAmJiAhKG90aGVyUGllY2UgaW5zdGFuY2VvZiBLaW5nKSAmJiAhKG90aGVyUGllY2UgaW5zdGFuY2VvZiBFbXB0eVBpZWNlKSlcbiAgICAgICAgICAgICAgdmFsaWRQcm9tb3Rpb25zLnB1c2goYm94KTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdmFsaWRQcm9tb3Rpb25zO1xufVxuUGllY2VHYW1lTG9naWMuZ2V0UG9zc2libGVNb3ZlcyA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIHByZXZNb3ZlPzogeyBzcmM6IEJveCwgZHN0OiBCb3ggfSk6IEFycmF5PEJveD4gPT4ge1xuICBjb25zdCBwb3NzaWJsZVByb21vdGlvbk1vdmVzID0gUGllY2VHYW1lTG9naWMuZ2V0UG9zc2libGVQaWVjZXNUb1Byb21vdGVUbyhnYW1lU3RhdGUsIHNyYyk7XG4gIGlmIChwb3NzaWJsZVByb21vdGlvbk1vdmVzLmxlbmd0aCA+IDApIHJldHVybiBwb3NzaWJsZVByb21vdGlvbk1vdmVzO1xuICBjb25zdCBjb25zdHJ1Y3RNb3Zlc01hdHJpeCA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIFBpZWNlVHlwZTogUGllY2UsIG51bU1vdmVzOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB2YWxpZE1vdmVzOiBBcnJheTxCb3g+ID0gW107XG4gICAgY29uc3QgaXNQb3NzaWJsZVRvTW92ZVRvID0gdHlwZW9mIFBpZWNlVHlwZS5nZXRQb3NzaWJsZU1vdmVzID09ICdmdW5jdGlvbicgPyBQaWVjZVR5cGUuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHNyYywgbnVtTW92ZXMpIDogKGRzdDogQm94KT0+ZmFsc2U7XG4gICAgaWYgKCFpc1Bvc3NpYmxlVG9Nb3ZlVG8pIHJldHVybiB2YWxpZE1vdmVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZVN0YXRlLnJhbmtDb3VudDsgaSsrKVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnYW1lU3RhdGUuZmlsZUNvdW50OyBqKyspXG4gICAgICAgICBpZiAoaXNQb3NzaWJsZVRvTW92ZVRvKHtyOmksYzpqfSkpIHZhbGlkTW92ZXMucHVzaCh7cjppLGM6an0pO1xuICAgIHJldHVybiB2YWxpZE1vdmVzO1xuICB9XG4gIGNvbnN0IHMgPSBnYW1lU3RhdGUuZ2V0RW5jb2Rpbmcoc3JjKTtcbiAgY29uc3QgbnVtTW92ZXMgPSBQaWVjZUdhbWVMb2dpYy5nZXROdW1Nb3ZlcyhzKTtcbiAgY29uc3QgUGllY2VUeXBlID0gUGllY2VHYW1lTG9naWMuZ2V0VHlwZShzKTtcbiAgaWYgKFBpZWNlVHlwZSAmJiAhaXNOYU4obnVtTW92ZXMpKSB7XG4gICAgY29uc3QgbW92ZXNNYXRyaXggPSBjb25zdHJ1Y3RNb3Zlc01hdHJpeChnYW1lU3RhdGUsIHNyYywgUGllY2VUeXBlLCBudW1Nb3Zlcyk7XG4gICAgaWYgKFBpZWNlR2FtZUxvZ2ljLmdldFR5cGUoZ2FtZVN0YXRlLmdldEVuY29kaW5nKHNyYykpIGluc3RhbmNlb2YgS2luZykge1xuICAgICAgaWYgKFBpZWNlR2FtZUxvZ2ljLmtpbmdDYW5DYXN0bGVXaXRoR2l2ZW5Sb29rKGdhbWVTdGF0ZSwgc3JjLCB7IHI6IHNyYy5yLCBjOiAwIH0pKSB7XG4gICAgICAgIG1vdmVzTWF0cml4LnB1c2goeyByOiBzcmMuciwgYzogMCB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChQaWVjZUdhbWVMb2dpYy5raW5nQ2FuQ2FzdGxlV2l0aEdpdmVuUm9vayhnYW1lU3RhdGUsIHNyYywgeyByOiBzcmMuciwgYzogZ2FtZVN0YXRlLmZpbGVDb3VudCAtIDEgfSkpIHtcbiAgICAgICAgbW92ZXNNYXRyaXgucHVzaCh7IHI6IHNyYy5yLCBjOiBnYW1lU3RhdGUuZmlsZUNvdW50IC0gMSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFBpZWNlR2FtZUxvZ2ljLmdldFR5cGUoZ2FtZVN0YXRlLmdldEVuY29kaW5nKHNyYykpIGluc3RhbmNlb2YgUGF3bikge1xuICAgICAgaWYgKHByZXZNb3ZlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ1RFU1QnKSBjb25zb2xlLndhcm4oJ1BpZWNlR2FtZUxvZ2ljLmdldFBvc3NpYmxlTW92ZXMgc2hvdWxkIGJlIHBhc3NlZCBwcmV2TW92ZSBhcyBsYXN0IHBhcmFtZXRlciEgUGxlYXNlIHJlZmFjdG9yLCBlbHNlIEVuIFBhc3NhbnRlIHdpbGwgbm90IHdvcmsuJyk7XG4gICAgICB9IGVsc2UgaWYgKFBpZWNlR2FtZUxvZ2ljLmlzRW5QYXNzYW50UG9zc2libGUoZ2FtZVN0YXRlLCBzcmMsIHByZXZNb3ZlKSkge1xuICAgICAgICBjb25zdCBkaXIgPSBwcmV2TW92ZS5kc3QuYyAtIHByZXZNb3ZlLnNyYy5jID4gMCA/IDEgOiAtMTtcbiAgICAgICAgbW92ZXNNYXRyaXgucHVzaCh7IHI6IHNyYy5yICsgZGlyLCBjOiBwcmV2TW92ZS5kc3QuYyB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vdmVzTWF0cml4O1xuICB9XG4gIHJldHVybiBbXTtcbn07XG5QaWVjZUdhbWVMb2dpYy5pc1Bvc3NpYmxlVG9Nb3ZlVG8gPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsICBzcmM6IEJveCk6IHsgKGJveDogQm94KTogYm9vbGVhbiB9ID0+IHtcbiAgY29uc3QgcyA9IGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhzcmMpO1xuICBjb25zdCBudW1Nb3ZlcyA9IFBpZWNlR2FtZUxvZ2ljLmdldE51bU1vdmVzKHMpO1xuICBjb25zdCBQaWVjZVR5cGUgPSBQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKHMpO1xuICBjb25zdCBpc1Bvc3NpYmxlVG9Nb3ZlVG8gPSBQaWVjZVR5cGUuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHNyYyk7XG4gIHJldHVybiBpc1Bvc3NpYmxlVG9Nb3ZlVG87XG59O1xuUGllY2VHYW1lTG9naWMuaXNJbkNoZWNrID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCk6IGJvb2xlYW4gPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWVTdGF0ZS5yYW5rQ291bnQ7IGkrKylcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdhbWVTdGF0ZS5maWxlQ291bnQ7IGorKylcbiAgICAgIGlmIChzcmMuciAhPSBpICYmIHNyYy5jICE9IGopIHtcbiAgICAgICAgY29uc3QgcG9zc2libGVBdHRhY2tzID0gUGllY2VHYW1lTG9naWMuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHtyOmksYzpqfSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBQaWVjZUdhbWVMb2dpYy5pc0luQ2hlY2sgcG9zc2libGVBdHRhY2tzIHBpZWNlIGF0ICgke2l9LCR7an0pYCwgcG9zc2libGVBdHRhY2tzKTtcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBwb3NzaWJsZUF0dGFja3MubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICBpZiAocG9zc2libGVBdHRhY2tzW2tdLnI9PXNyYy5yICYmIHBvc3NpYmxlQXR0YWNrc1trXS5jPT1zcmMuYykgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblBpZWNlR2FtZUxvZ2ljLmlzSW5DaGVja21hdGUgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHBvc3NpYmxlTW92ZXMgPSBQaWVjZUdhbWVMb2dpYy5nZXRQb3NzaWJsZU1vdmVzKGdhbWVTdGF0ZSwgc3JjKTtcbiAgbGV0IHBpZWNlSXNJbkNoZWNrID0gUGllY2VHYW1lTG9naWMuaXNJbkNoZWNrKGdhbWVTdGF0ZSwgc3JjKTtcbiAgaWYgKHBpZWNlSXNJbkNoZWNrKSB7XG4gICAgbGV0IGlzSW5DaGVja21hdGUgPSB0cnVlOyAvLyB1c2UgcmVkdWNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NzaWJsZU1vdmVzLmxlbmd0aDsgaSsrKVxuICAgICAgaXNJbkNoZWNrbWF0ZSA9IGlzSW5DaGVja21hdGUgJiYgUGllY2VHYW1lTG9naWMuaXNJbkNoZWNrKGdhbWVTdGF0ZSwgcG9zc2libGVNb3Zlc1tpXSk7XG4gICAgaWYgKGlzSW5DaGVja21hdGUpIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5QaWVjZUdhbWVMb2dpYy5raW5nQ2FuQ2FzdGxlV2l0aEdpdmVuUm9vayA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHMgPSBnYW1lU3RhdGUuZ2V0RW5jb2Rpbmcoc3JjKTtcbiAgY29uc3QgdCA9IGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhkc3QpO1xuICBpZiAoUGllY2VHYW1lTG9naWMuZ2V0VHlwZShzKS5uYW1lICE9IChuZXcgS2luZygnJykpLm5hbWUgfHwgUGllY2VHYW1lTG9naWMuZ2V0VHlwZSh0KS5uYW1lICE9IChuZXcgUm9vaygnJykpLm5hbWUgfHwgUGllY2VHYW1lTG9naWMuZ2V0TnVtTW92ZXMocykgIT0gMCB8fCBQaWVjZUdhbWVMb2dpYy5nZXROdW1Nb3Zlcyh0KSAhPSAwKSByZXR1cm4gZmFsc2U7XG4gIGlmIChQaWVjZUhlbHBlci5pc1BpZWNlT2ZDdXJyZW50UGxheWVyKGdhbWVTdGF0ZSwgc3JjKSAmJiBQaWVjZUhlbHBlci5pc1BpZWNlT2ZDdXJyZW50UGxheWVyKGdhbWVTdGF0ZSwgZHN0KSAmJiBQaWVjZUhlbHBlci5pc0JveE9uQm9hcmQoZ2FtZVN0YXRlLCBkc3QpICYmIHNyYyAhPSBkc3QpIHtcbiAgICBsZXQgZGlyID0gZHN0LmMgLSBzcmMuYyA+IDAgPyAxIDogLTE7XG4gICAgbGV0IGxlbiA9IE1hdGguYWJzKGRzdC5jLXNyYy5jKTtcbiAgICBmb3IgKGxldCBpID0gc3JjLmMrZGlyOyBsZW4tLSA+IDE7IGkgKz0gZGlyKSBpZiAoIVBpZWNlSGVscGVyLmlzRW1wdHkoZ2FtZVN0YXRlLCB7cjpzcmMucixjOml9KSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuLyoqXG4gKiBAcmV0dXJucyB7R2FtZVN0YXRlfSBVcGRhdGVkIEdhbWVTdGF0ZSB3aXRoIEtpbmcncyBjYXN0bGUuXG4gKi9cblBpZWNlR2FtZUxvZ2ljLmNhc3RsZUtpbmdXaXRoR2l2ZW5Sb29rID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgZHN0OiBCb3gpOiBHYW1lU3RhdGUgPT4ge1xuICBpZiAoIVBpZWNlR2FtZUxvZ2ljLmtpbmdDYW5DYXN0bGVXaXRoR2l2ZW5Sb29rKGdhbWVTdGF0ZSwgc3JjLCBkc3QpKSByZXR1cm4gZ2FtZVN0YXRlO1xuICBjb25zdCBuZXdCb2FyZCA9IG5ldyBCb2FyZChnYW1lU3RhdGUuYm9hcmQpO1xuICBuZXdCb2FyZC5zZXRFbmNvZGluZyhzcmMsIFBpZWNlR2FtZUxvZ2ljLmluY3JlbWVudE1vdmVDb3VudChnYW1lU3RhdGUuZ2V0RW5jb2Rpbmcoc3JjKSkpO1xuICBsZXQgb3V0RGlyID0gZHN0LmMgLSBzcmMuYyA+IDAgPyAxIDogLTE7XG4gIGxldCBzaGlmdCA9IDA7XG4gIGlmIChNYXRoLmFicyhkc3QuYyAtIHNyYy5jKSA9PSAzKSBzaGlmdCA9IDI7XG4gIGVsc2UgaWYgKE1hdGguYWJzKGRzdC5jIC0gc3JjLmMpID09IDQpIHNoaWZ0ID0gMztcbiAgbmV3Qm9hcmQuc2V0RW5jb2Rpbmcoe3I6IHNyYy5yLCBjOiBzcmMuYyArIG91dERpciAqIHNoaWZ0IH0sIGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhzcmMpKTtcbiAgbmV3Qm9hcmQuc2V0RW5jb2Rpbmcoc3JjLCAnICcpO1xuICBuZXdCb2FyZC5zZXRFbmNvZGluZyh7IHI6IGRzdC5yLCBjOiBkc3QuYyAtIG91dERpciAqIHNoaWZ0IH0sIGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhkc3QpKTtcbiAgbmV3Qm9hcmQuc2V0RW5jb2RpbmcoZHN0LCAnICcpO1xuICByZXR1cm4gbmV3IEdhbWVTdGF0ZShuZXdCb2FyZCk7XG59O1xuUGllY2VHYW1lTG9naWMuZ2V0U2V0T2ZBbGxQb3NzaWJsZU1vdmVzRm9yUGxheWVyID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBwbGF5ZXI6IG51bWJlcik6IFNldDxCb3g+ID0+IHtcbiAgbGV0IHMgPSBuZXcgU2V0KCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZVN0YXRlLnJhbmtDb3VudDsgaSsrKVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ2FtZVN0YXRlLmZpbGVDb3VudDsgaisrKVxuICAgICAgaWYgKCFQaWVjZUhlbHBlci5pc1BpZWNlT2ZHaXZlblBsYXllcihnYW1lU3RhdGUsIHBsYXllcix7cjppLGM6an0pICYmICFQaWVjZUhlbHBlci5pc0VtcHR5KGdhbWVTdGF0ZSwge3I6aSxjOmp9KSkge1xuICAgICAgICBjb25zdCBwb3NzaWJsZVBsYXllck1vdmVzID0gUGllY2VHYW1lTG9naWMuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHtyOmksYzpqfSk7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcG9zc2libGVQbGF5ZXJNb3Zlcy5sZW5ndGg7IGsrKylcbiAgICAgICAgICBzLmFkZChwb3NzaWJsZVBsYXllck1vdmVzW2tdKTtcbiAgICAgIH1cbiAgcmV0dXJuIHM7XG59O1xuLyoqXG4gKiBAdG9kbyBub3QgdGhpcyBzaW1wbGUsIHNob3VsZCBwcmlvcml0aXplIGtpbGwtbW92ZXMgYW5kIG1vdmVzIHRoYXQgZ2V0IHRoZSBwbGF5ZXIgb3V0IG9mIGhhcm0gKGluIG5leHQgbW92ZSBvbmx5LCBmb3Igbm93KVxuICovXG5QaWVjZUdhbWVMb2dpYy5yYW5kb21EZWZlbnNpdmVNb3ZlID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlKTogU2V0PEJveD4gPT4ge1xuICBjb25zdCBjdXJyZW50UGxheWVyID0gZ2FtZVN0YXRlLnBsYXllcjtcbiAgY29uc3Qgb3Bwb25lbnQgPSBjdXJyZW50UGxheWVyID09IDAgPyAxIDogMDtcbiAgY29uc3Qgc2V0T2ZPcHBvbmVudE1vdmVzID0gUGllY2VHYW1lTG9naWMuZ2V0U2V0T2ZBbGxQb3NzaWJsZU1vdmVzRm9yUGxheWVyKGdhbWVTdGF0ZSwgb3Bwb25lbnQpO1xuICBsZXQgcmFuZElkeCA9IDA7XG4gIHJldHVybiBzZXRPZk9wcG9uZW50TW92ZXM7XG59O1xuUGllY2VHYW1lTG9naWMuaXNBQ2FwdHVyZSA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgc3JjOiBCb3gsIGRzdDogQm94KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHMgPSBnYW1lU3RhdGUuZ2V0RW5jb2Rpbmcoc3JjKTtcbiAgY29uc3QgbnVtTW92ZXMgPSBQaWVjZUdhbWVMb2dpYy5nZXROdW1Nb3ZlcyhzKTtcbiAgY29uc3QgUGllY2VUeXBlID0gUGllY2VHYW1lTG9naWMuZ2V0VHlwZShzKTtcbiAgaWYgKHR5cGVvZiBQaWVjZVR5cGUuZ2V0UG9zc2libGVNb3ZlcyA9PSAnZnVuY3Rpb24nICYmICFpc05hTihudW1Nb3ZlcykpIHtcbiAgICBjb25zdCBpc1Bvc3NpYmxlVG9Nb3ZlVG8gPSBQaWVjZVR5cGUuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHNyYywgbnVtTW92ZXMpO1xuICAgIGlmIChpc1Bvc3NpYmxlVG9Nb3ZlVG8oZHN0KSAmJiAhUGllY2VIZWxwZXIuaXNQaWVjZU9mQ3VycmVudFBsYXllcihnYW1lU3RhdGUsIGRzdCkgJiYgIVBpZWNlSGVscGVyLmlzRW1wdHkoZ2FtZVN0YXRlLCBkc3QpKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuLyoqXG4gKiBAcGFyYW0gc3JjIHRoZSBib3ggdG8gY2hlY2sgaWYgcG9zc2libGUgdG8gRW5QYXNzYW50IGZyb21cbiAqIEBwYXJhbSBwcmV2TW92ZSB0aGUgcHJldmlvdXMgbW92ZSBwbGF5ZWQsIHdoaWNoIGlzIHVzdWFsbHkgdGhlIG9wcG9uZW50IHRvIHRoZSBwaWVjZSBhdCBzcmMuXG4gKi9cblBpZWNlR2FtZUxvZ2ljLmlzRW5QYXNzYW50UG9zc2libGUgPSAoZ2FtZVN0YXRlOiBHYW1lU3RhdGUsIHNyYzogQm94LCBwcmV2TW92ZToge3NyYzogQm94LCBkc3Q6IEJveH0pOiBib29sZWFuID0+IHtcbiAgY29uc3Qgb3Bwb25lbnRTdGFydCA9IHByZXZNb3ZlLmRzdC5yIC0gcHJldk1vdmUuc3JjLnIgPiAwID8gMSA6IDY7XG4gIGlmIChQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhzcmMpKSBpbnN0YW5jZW9mIFBhd25cbiAgICAgICYmIE1hdGguYWJzKHByZXZNb3ZlLmRzdC5yIC0gcHJldk1vdmUuc3JjLnIpID09PSAyXG4gICAgICAmJiBvcHBvbmVudFN0YXJ0ID09PSBwcmV2TW92ZS5zcmMuciAvKiBzaG91bGRuJ3QgaGFwcGVuIHVuZGVyIG5vcm1hbCBQYXduIHJ1bGVzICovXG4gICAgICAmJiBQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhwcmV2TW92ZS5kc3QpKSBpbnN0YW5jZW9mIFBhd25cbiAgICAgICYmICFQaWVjZUhlbHBlci5pc1BpZWNlT2ZDdXJyZW50UGxheWVyKGdhbWVTdGF0ZSwgcHJldk1vdmUuZHN0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblBpZWNlR2FtZUxvZ2ljLmdldEJveE9mUHJvbW90YWJsZVBpZWNlSWZQb3NzaWJsZSA9IChnYW1lU3RhdGU6IEdhbWVTdGF0ZSk6IEJveCA9PiB7XG4gIGNvbnN0IHBhd25BdENvbHVtbkJvcmRlciA9IChib3JkZXJJZHg6IG51bWJlcik6IEJveCA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lU3RhdGUucmFua0NvdW50OyBpKyspXG4gICAgICBpZiAoUGllY2VHYW1lTG9naWMuZ2V0VHlwZShnYW1lU3RhdGUuZ2V0RW5jb2Rpbmcoe3I6IGJvcmRlcklkeCwgYzogaX0pKSBpbnN0YW5jZW9mIFBhd24pXG4gICAgICAgIHJldHVybiB7cjogYm9yZGVySWR4LCBjOiBpfTtcbiAgfTtcbiAgcmV0dXJuIHBhd25BdENvbHVtbkJvcmRlcigwKSB8fCBwYXduQXRDb2x1bW5Cb3JkZXIoZ2FtZVN0YXRlLnJhbmtDb3VudCAtIDEpO1xufTtcbi8qKlxuICogQHBhcmFtIGZpcnN0IGJveCBvZiBwaWVjZSAoaWUgcGF3bikgdG8gcHJvbW90ZVxuICogQHBhcmFtIHNlY29uZCBwaWVjZSAoaWUgbm90IHBhd24gYW5kIG5vdCBraW5nIGFuZCBub3Qgbm9uLXBpZWNlKSB0byBwcm9tb3RlIHRvXG4gKi9cblBpZWNlR2FtZUxvZ2ljLnByb21vdGVJZlBvc3NpYmxlID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBmaXJzdDogQm94LCBzZWNvbmQ6IFBpZWNlKTogR2FtZVN0YXRlID0+IHtcbiAgY29uc3QgcHJvbW90YWJsZUJveCA9IFBpZWNlR2FtZUxvZ2ljLmdldEJveE9mUHJvbW90YWJsZVBpZWNlSWZQb3NzaWJsZShnYW1lU3RhdGUpO1xuICBjb25zdCBuZXdCb2FyZCA9IG5ldyBCb2FyZChnYW1lU3RhdGUuYm9hcmQpO1xuICBpZiAocHJvbW90YWJsZUJveCAhPT0gdW5kZWZpbmVkICYmIHByb21vdGFibGVCb3guciA9PT0gZmlyc3QuciAmJiBwcm9tb3RhYmxlQm94LmMgPT09IGZpcnN0LmNcbiAgICAgICYmICEoc2Vjb25kIGluc3RhbmNlb2YgUGF3bikgJiYgIShzZWNvbmQgaW5zdGFuY2VvZiBLaW5nKSAmJiAhKHNlY29uZCBpbnN0YW5jZW9mIEVtcHR5UGllY2UpXG4gICAgICAmJiBQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhmaXJzdCkpLmNvbG9yID09PSBzZWNvbmQuY29sb3IpXG4gICAgICBuZXdCb2FyZC5zZXRFbmNvZGluZyhmaXJzdCwgUGllY2VHYW1lTG9naWMuY29udmVydFBpZWNlVG9TdHJpbmdFbmNvZGluZyhzZWNvbmQpKTtcbiAgcmV0dXJuIG5ldyBHYW1lU3RhdGUobmV3Qm9hcmQpO1xufTtcblBpZWNlR2FtZUxvZ2ljLmluY3JlbWVudE1vdmVDb3VudCA9IChlbmM6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHByZWZpeCA9IGVuYy50cmltKCkubWF0Y2goL1xcdy9nKSA/IGVuYy50cmltKCkubWF0Y2goL1xcdy9nKVswXSA6ICcnO1xuICBjb25zdCBudW0gPSBlbmMudHJpbSgpLm1hdGNoKC8oXFxkKykvZykgPyBOdW1iZXIoZW5jLnRyaW0oKS5tYXRjaCgvKFxcZCspL2cpWzBdKSA6IDA7XG4gIHJldHVybiBwcmVmaXggKyBOdW1iZXIobnVtICsgMSk7XG59O1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gQXR0ZW1wdCB0byBtYWtlIHRoZSBkZXNpcmVkIG1vdmUsIGlmIHRoZSBtb3ZlIGlzIGxlZ2FsLlxuICovXG5QaWVjZUdhbWVMb2dpYy5tYWtlTGVnYWxNb3ZlID0gKGdhbWVTdGF0ZTogR2FtZVN0YXRlLCBzcmM6IEJveCwgZHN0OiBCb3gsIHByZXZNb3ZlOiB7c3JjOiBCb3gsIGRzdDogQm94fSwgcGllY2VUb1Byb21vdGVUbz86IFBpZWNlKTogeyBnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgY2FwdHVyZWRQaWVjZTogUGllY2UgfSA9PiB7XG4gIGNvbnN0IHByb21vdGFibGVCb3ggPSBQaWVjZUdhbWVMb2dpYy5nZXRCb3hPZlByb21vdGFibGVQaWVjZUlmUG9zc2libGUoZ2FtZVN0YXRlKTtcbiAgaWYgKHByb21vdGFibGVCb3ggIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwaWVjZVRvUHJvbW90ZVRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBpZWNlVG9Qcm9tb3RlVG8gPSBQaWVjZUdhbWVMb2dpYy5nZXRUeXBlKGdhbWVTdGF0ZS5nZXRFbmNvZGluZyhkc3QpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZ2FtZVN0YXRlOiBQaWVjZUdhbWVMb2dpYy5wcm9tb3RlSWZQb3NzaWJsZShnYW1lU3RhdGUsIHNyYywgcGllY2VUb1Byb21vdGVUbyksIGNhcHR1cmVkUGllY2U6IG5ldyBFbXB0eVBpZWNlIH07XG4gIH1cbiAgaWYgKFBpZWNlR2FtZUxvZ2ljLmtpbmdDYW5DYXN0bGVXaXRoR2l2ZW5Sb29rKGdhbWVTdGF0ZSwgc3JjLCBkc3QpKSB7XG4gICAgcmV0dXJuIHsgZ2FtZVN0YXRlOiBQaWVjZUdhbWVMb2dpYy5jYXN0bGVLaW5nV2l0aEdpdmVuUm9vayhnYW1lU3RhdGUsIHNyYywgZHN0KSwgY2FwdHVyZWRQaWVjZTogbmV3IEVtcHR5UGllY2UgfTtcbiAgfVxuICBjb25zdCBtb3ZlQW5kVXBkYXRlU3RhdGUgPSAoZW5QYXNzYW50PzogQm94KTogeyBnYW1lU3RhdGU6IEdhbWVTdGF0ZSwgY2FwdHVyZWRQaWVjZTogUGllY2UgfSA9PiB7XG4gICAgY29uc3QgY2FwdHVyZWRQaWVjZSA9IGVuUGFzc2FudCA/IFBpZWNlR2FtZUxvZ2ljLmdldFR5cGUoZ2FtZVN0YXRlLmdldEVuY29kaW5nKGVuUGFzc2FudCkpIDogUGllY2VHYW1lTG9naWMuZ2V0VHlwZShnYW1lU3RhdGUuZ2V0RW5jb2RpbmcoZHN0KSk7XG4gICAgY29uc3QgbmV3Qm9hcmQgPSBuZXcgQm9hcmQoZ2FtZVN0YXRlLmJvYXJkKTtcbiAgICBpZiAoZW5QYXNzYW50KSBuZXdCb2FyZC5zZXRFbmNvZGluZyhlblBhc3NhbnQsICcgJyk7XG4gICAgbmV3Qm9hcmQuc2V0RW5jb2RpbmcoZHN0LCBQaWVjZUdhbWVMb2dpYy5pbmNyZW1lbnRNb3ZlQ291bnQoZ2FtZVN0YXRlLmdldEVuY29kaW5nKHNyYykpKTtcbiAgICBuZXdCb2FyZC5zZXRFbmNvZGluZyhzcmMsICcgJyk7XG4gICAgcmV0dXJuIHsgZ2FtZVN0YXRlOiBuZXcgR2FtZVN0YXRlKG5ld0JvYXJkKSwgY2FwdHVyZWRQaWVjZSB9O1xuICB9O1xuICBpZiAoUGllY2VHYW1lTG9naWMuaXNFblBhc3NhbnRQb3NzaWJsZShnYW1lU3RhdGUsIHNyYywgcHJldk1vdmUpKSB7XG4gICAgY29uc3QgZGlyID0gcHJldk1vdmUuZHN0LnIgLSBwcmV2TW92ZS5zcmMuciA+IDAgPyAtMSA6IDE7XG4gICAgY29uc3QgYm94ID0geyByOiBzcmMuciArIGRpciwgYzogcHJldk1vdmUuZHN0LmMgfTtcbiAgICBpZiAoZHN0LnIgPT09IGJveC5yICYmIGRzdC5jID09PSBib3guYykge1xuICAgICAgcmV0dXJuIG1vdmVBbmRVcGRhdGVTdGF0ZShwcmV2TW92ZS5kc3QpO1xuICAgIH1cbiAgfVxuICBjb25zdCBwb3NzaWJsZU1vdmVzID0gUGllY2VHYW1lTG9naWMuZ2V0UG9zc2libGVNb3ZlcyhnYW1lU3RhdGUsIHNyYywgcHJldk1vdmUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3NpYmxlTW92ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBib3g6IEJveCA9IHBvc3NpYmxlTW92ZXNbaV07XG4gICAgaWYgKGRzdC5yID09PSBib3guciAmJiBkc3QuYyA9PT0gYm94LmMpIHJldHVybiBtb3ZlQW5kVXBkYXRlU3RhdGUoKTtcbiAgfVxuICByZXR1cm4geyBnYW1lU3RhdGUsIGNhcHR1cmVkUGllY2U6IG5ldyBFbXB0eVBpZWNlIH07XG59O1xuZXhwb3J0IHsgUGllY2VHYW1lTG9naWMgfTtcbiIsImltcG9ydCBTdG9yZSBmcm9tICcuLi9zdG9yZS9zdG9yZSc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi92aWV3L3ZpZXcnO1xuaW1wb3J0IHsgQm9hcmQsIEJveCwgUGllY2UsIEVtcHR5UGllY2UsIFN0b3JlU3RhdGUsIFBMQVlFUl9XSElURSwgUExBWUVSX0JMQUNLIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUGllY2VHYW1lTG9naWMgfSBmcm9tICcuLi9tb2RlbC9waWVjZWdhbWVsb2dpYyc7XG5cbi8qKlxuICogTm90ZSB0aGF0IHRoZSBDb250cm9sbGVyIGlzIHRoZSBvbmx5IG1vZHVsZSB3aGljaCBzaGFsbCBrbm93IGFib3V0IGFueSBhbmQgYWxsIG9mIHRoZSBNb2RlbCwgU3RvcmUsIGFuZCBWaWV3LlxuICogVGhlIENvbnRyb2xsZXIgc2hhbGwgc2ltcGx5IHJlbGF5IHVzZXIgZXZlbnRzIGZyb20gdGhlIFZpZXcgdG8gdGhlIE1vZGVsLCB0YWtpbmcgdGhlIHB1cmVseSBmdW5jdGlvbmFsXG4gKiBvdXRwdXQgZnJvbSB0aGUgTW9kZWwgYW5kIHN0b3JpbmcgaXQgaW4gdGhlIFN0b3JlLiBUaGUgQ29udHJvbGxlciB0aGVuIG5vdGlmaWVzIHRoZSBWaWV3IG9mIHRoZSB1cGRhdGVkXG4gKiBzdGF0ZSAodmlhIHRoaXMuc3RvcmUuc3RhdGUsIG5vIG1vcmUsIG5vIGxlc3MpLCBhbmQgdGhlIFZpZXcgdXBkYXRlcy4gVGhlIGxvb3AgY29udGludWVzIGFzIHN1Y2guXG4gKiBcbiAqIFRoaXMgaXMgYSBzaW1wbGUgcGFyYWRpZ20gb25jZSB0aG91Z2h0IG91dC4gVGhlIENvbnRyb2xsZXIgc2hhbGwgYmUgYXMgc2ltcGxlIGFzIHBvc3NpYmxlLCBkZWxlZ2F0aW5nXG4gKiBhcyBtdWNoIG9mIHRoZSBnYW1lIGxvZ2ljIGFzIHBvc3NpYmxlIHRvIHRoZSBNb2RlbCwgYW5kIGFzIG11Y2ggYXMgdGhlIGdyYXBoaWNhbCBhcHBlYXJhbmNlIGFzIHBvc3NpYmxlXG4gKiB0byB0aGUgVmlldywgd2hpbGUgc3RvcmluZyB0aGUgdXBkYXRlcyB0byB0aGUgcmVsZXZhbnQgc3RhdGUgb2YgdGhlIGdhbWUgKGFzIG5lZWRlZCBieSB0aGUgVmlldykgaW4gXG4gKiB0aGUgU3RvcmUgKHdoaWNoIGNvbnRhaW5zIHZpcnR1YWxseSBubyBsb2dpYywgYWN0aW5nIG11Y2ggbGlrZSBhIHNpbXBsZSBOb1NRTCBkb2N1bWVudCkuXG4gKi9cblxuLyoqXG4gKiBEZXNlcmlhbGl6ZSB0aGUgSFRNTCBkYXRhIGludG8gYSBKUyBvYmplY3QuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjYwMDUwL3doYXQtaXMtc2VyaWFsaXphdGlvbi1hbmQtZGVzZXJpYWxpemF0aW9uLWNvbmNlcHR1YWxseVxuICogQHBhcmFtIHtFbGVtZW50fSBib3ggVGhlIHJhdyBodG1sIGJveCBmcm9tIHRoZSB2aWV3XG4gKiBAcmV0dXJucyB7Qm94fSB0aGUgY29udGVudHMgb2YgdGhlIGJveCBhcyBhIHN0cnVjdHVyZWQgSlMgb2JqZWN0XG4gKi9cbmNvbnN0IGRlc2VyaWFsaXplQm94Q29udGVudHMgPSAoYm94RWxlbTogRWxlbWVudCk6IHsgYm94OiBCb3gsIHBpZWNlOiBQaWVjZSB9ID0+IHtcbiAgICBsZXQgYm94UG9zID0gTnVtYmVyKGJveEVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBvcycpKTtcbiAgICBjb25zdCByID0gTWF0aC5mbG9vcihib3hQb3MgLyA4KTtcbiAgICBjb25zdCBjID0gYm94UG9zICUgODtcbiAgICBjb25zdCBib3g6IEJveCA9IHsgciwgYyB9O1xuICAgIGNvbnN0IHBpZWNlID0gPFBpZWNlPkpTT04ucGFyc2UoYm94RWxlbS5nZXRBdHRyaWJ1dGUoJ3BpZWNlJykpO1xuICAgIHJldHVybiB7IGJveCwgcGllY2UgfTtcbn1cblxuY29uc3QgZGVzZXJpYWxpemVDYXB0dXJlZFBpZWNlID0gKHBpZWNlRWxlbTogRWxlbWVudCk6IFBpZWNlID0+IFBpZWNlR2FtZUxvZ2ljLmdldFR5cGUocGllY2VFbGVtLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5yZXBsYWNlKCd3aGl0ZScsICcnKS5yZXBsYWNlKCdibGFjaycsICcnKSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICAgIHByaXZhdGUgc3RvcmU6IFN0b3JlO1xuICAgIHByaXZhdGUgdmlldzogVmlldztcbiAgICBwcml2YXRlIF9zZWxlY3RlZEJveDogeyBib3g6IEJveCwgcGllY2U6IFBpZWNlIH07XG4gICAgcHJpdmF0ZSBfbGFzdFNlbGVjdGVkQm94OiB7IGJveDogQm94LCBwaWVjZTogUGllY2UgfTtcbiAgICBwcml2YXRlIF9zZWxlY3RlZENhcHR1cmVkUGllY2U6IFBpZWNlO1xuICAgIHByaXZhdGUgY3JlYXRlQW5kU2hvd0luaXRpYWxCb2FyZCgpIHtcbiAgICAgICAgY29uc3QgbmV3U3RhdGU6IFN0b3JlU3RhdGUgPSBuZXcgU3RvcmVTdGF0ZTtcbiAgICAgICAgbmV3U3RhdGUuYm9hcmQgPSBQaWVjZUdhbWVMb2dpYy5jb252ZXJ0R1NCb2FyZFRvUGllY2VCb2FyZChuZXdTdGF0ZS5nYW1lU3RhdGUpO1xuICAgICAgICB0aGlzLnN0b3JlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHRoaXMuc2hvd0JvYXJkQW5kQmluZEJveGVzKCk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXRTdG9yZVN0YXRlKG5ld1N0YXRlOiBTdG9yZVN0YXRlKTogdm9pZCB7XG4gICAgICBuZXdTdGF0ZS5ib2FyZCA9IFBpZWNlR2FtZUxvZ2ljLmNvbnZlcnRHU0JvYXJkVG9QaWVjZUJvYXJkKG5ld1N0YXRlLmdhbWVTdGF0ZSk7XG4gICAgICB0aGlzLnN0b3JlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFN0b3JlO1xuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgVmlldztcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRCb3ggPSB7IGJveDogeyByOiAtMSwgYzogLTEgfSwgcGllY2U6IG5ldyBFbXB0eVBpZWNlIH07XG4gICAgICAgIHRoaXMuX2xhc3RTZWxlY3RlZEJveCA9IHsgYm94OiB7IHI6IC0xLCBjOiAtMSB9LCBwaWVjZTogbmV3IEVtcHR5UGllY2UgfTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRDYXB0dXJlZFBpZWNlID0gbmV3IEVtcHR5UGllY2U7XG4gICAgICAgIHRoaXMuY3JlYXRlQW5kU2hvd0luaXRpYWxCb2FyZCgpO1xuICAgICAgICAvLyB0aGlzLnZpZXcuYmluZFVuZG9Nb3ZlKHRoaXMudW5kb01vdmUuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIHRoaXMudmlldy5iaW5kUmVkb01vdmUodGhpcy5yZWRvTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIEhUTUwgYm9hcmQgaW4gVmlldywgYmluZCB0aGlzLnNlbGVjdEJveCB0byBlYWNoIGJveCBpbiBWaWV3LlxuICAgICAqIEBwYXJhbSB7Vm9pZH1cbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAgKi9cbiAgICBzaG93Qm9hcmRBbmRCaW5kQm94ZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmlldy5zaG93Qm9hcmQodGhpcy5zdG9yZS5zdGF0ZSk7XG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgODsgcisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDg7IGMrKykge1xuICAgICAgICAgICAgICAgIGxldCBib3ggPSB0aGlzLnZpZXcuJGJvYXJkLmNoaWxkcmVuWzBdLmNoaWxkcmVuW3JdLmNoaWxkcmVuW2NdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5iaW5kU2VsZWN0Qm94KGJveCwgdGhpcy5zZWxlY3RCb3guYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIEhUTUwgY2FwdHVyZXMgaW4gVmlldywgYmluZCB0aGlzLnNlbGVjdENhcHR1cmVkUGllY2UgdG8gZWFjaCBjYXB0dXJlZCBwaWVjZSBpbiBWaWV3LlxuICAgICAqIEBwYXJhbSB7Vm9pZH1cbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAgKi9cbiAgICBzaG93QW5kQmluZENhcHR1cmVkUGllY2VzKCk6IHZvaWQge1xuICAgICAgICBsZXQgY2FwdHVyZXMgPSB0aGlzLnN0b3JlLnN0YXRlLmNhcHR1cmVzO1xuICAgICAgICB0aGlzLnZpZXcuc2hvd0NhcHR1cmVzKHRoaXMuc3RvcmUuc3RhdGUpO1xuICAgICAgICBsZXQgd2hpdGVJZHggPSAwO1xuICAgICAgICBsZXQgYmxhY2tJZHggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZXNbaV0uY29sb3IgJiYgY2FwdHVyZXNbaV0uY29sb3IuaW5kZXhPZignYmxhY2snKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gdGhpcy52aWV3LiRjYXB0dXJlZGJsYWNrLmNoaWxkcmVuWzBdLmNoaWxkcmVuW2JsYWNrSWR4KytdO1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZSAhPSB1bmRlZmluZWQpIHRoaXMudmlldy5iaW5kQ2FwdHVyZWRQaWVjZShwaWVjZSwgaSwgdGhpcy5zZWxlY3RDYXB0dXJlZFBpZWNlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2FwdHVyZXNbaV0uY29sb3IgJiYgY2FwdHVyZXNbaV0uY29sb3IuaW5kZXhPZignd2hpdGUnKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlID0gdGhpcy52aWV3LiRjYXB0dXJlZHdoaXRlLmNoaWxkcmVuWzBdLmNoaWxkcmVuW3doaXRlSWR4KytdO1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZSAhPSB1bmRlZmluZWQpIHRoaXMudmlldy5iaW5kQ2FwdHVyZWRQaWVjZShwaWVjZSwgaSwgdGhpcy5zZWxlY3RDYXB0dXJlZFBpZWNlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIE5vdGlmaWVzIFBHTCBiYXNlZCBvbiBuZXcgc3RhdGUgb2YgdGhpcy5fc2VsZWN0ZWRCb3ggYW5kIHRoaXMuX2xhc3RTZWxlY3RlZEJveC5cbiAgICAgKiBAaGVscGVyIFRoaXMgaXMgZXh0cmFjdGVkIGZ1bmN0aW9uYWxpdHkgZnJvbSBDb250cm9sbGVyLnNlbGVjdEJveC5cbiAgICAgKi9cbiAgICBtb3ZlWG9yR2V0UG9zc2libGVNb3ZlcygpOiB2b2lkIHtcbiAgICAgIGlmICghKHRoaXMuX2xhc3RTZWxlY3RlZEJveC5waWVjZSBpbnN0YW5jZW9mIEVtcHR5UGllY2UpKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNb3ZlU3RhdGUgPSBQaWVjZUdhbWVMb2dpYy5tYWtlTGVnYWxNb3ZlKHRoaXMuc3RvcmUuc3RhdGUuZ2FtZVN0YXRlLCB0aGlzLl9sYXN0U2VsZWN0ZWRCb3guYm94LCB0aGlzLl9zZWxlY3RlZEJveC5ib3gsIHRoaXMuc3RvcmUuc3RhdGUucHJldk1vdmUpO1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IG5ldyBTdG9yZVN0YXRlO1xuICAgICAgICBuZXdTdGF0ZS5wcmV2TW92ZSA9IHRoaXMuc3RvcmUuc3RhdGUucHJldk1vdmU7XG4gICAgICAgIG5ld1N0YXRlLmdhbWVTdGF0ZSA9IHVwZGF0ZWRNb3ZlU3RhdGUuZ2FtZVN0YXRlO1xuICAgICAgICBjb25zdCBjYXB0dXJlZFBpZWNlID0gdXBkYXRlZE1vdmVTdGF0ZS5jYXB0dXJlZFBpZWNlO1xuICAgICAgICBpZiAodGhpcy5zdG9yZS5zdGF0ZS5nYW1lU3RhdGUgIT09IG5ld1N0YXRlLmdhbWVTdGF0ZSkge1xuICAgICAgICAgIG5ld1N0YXRlLnByZXZNb3ZlID0geyBzcmM6IHRoaXMuX2xhc3RTZWxlY3RlZEJveC5ib3gsIGRzdDogdGhpcy5fc2VsZWN0ZWRCb3guYm94IH07XG4gICAgICAgICAgbmV3U3RhdGUuZ2FtZVN0YXRlLnBsYXllciA9IHRoaXMuc3RvcmUuc3RhdGUuZ2FtZVN0YXRlLnBsYXllciA9PT0gUExBWUVSX1dISVRFID8gUExBWUVSX0JMQUNLIDogUExBWUVSX1dISVRFO1xuICAgICAgICAgIGlmICghKGNhcHR1cmVkUGllY2UgaW5zdGFuY2VvZiBFbXB0eVBpZWNlKSkge1xuICAgICAgICAgICAgbmV3U3RhdGUuY2FwdHVyZXMucHVzaChjYXB0dXJlZFBpZWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcG9zc2libGVNb3ZlcyA9IFBpZWNlR2FtZUxvZ2ljLmdldFBvc3NpYmxlTW92ZXModGhpcy5zdG9yZS5zdGF0ZS5nYW1lU3RhdGUsIHRoaXMuX3NlbGVjdGVkQm94LmJveCwgdGhpcy5zdG9yZS5zdGF0ZS5wcmV2TW92ZSk7XG4gICAgICAgICAgbmV3U3RhdGUucG9zc2libGVEZXN0Qm94ZXMgPSB0aGlzLnN0b3JlLnN0YXRlLmluaXRpYWxpemVGYWxzZUdyaWQoOCk7XG4gICAgICAgICAgcG9zc2libGVNb3Zlcy5mb3JFYWNoKChib3g6IEJveCkgPT4ge1xuICAgICAgICAgICAgbmV3U3RhdGUucG9zc2libGVEZXN0Qm94ZXNbYm94LnJdW2JveC5jXSA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdG9yZVN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH0gXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHNlbGVjdGVkUGllY2UgYWZ0ZXIgc2V0aW5nIGxhc3RTZWxlY3RlZFBpZWNlIHRvIGN1cnJlbnQgc2VsZWN0ZWRQaWVjZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyFFbGVtZW50fSBib3ggZGl2IG9mIHRoZSBzZWxlY3RlZCBib3hcbiAgICAgKi9cbiAgICBzZWxlY3RCb3goYm94OiBFbGVtZW50KTogdm9pZCB7XG4gICAgICB0aGlzLl9sYXN0U2VsZWN0ZWRCb3ggPSB0aGlzLl9zZWxlY3RlZEJveDtcbiAgICAgIHRoaXMuX3NlbGVjdGVkQm94ID0gZGVzZXJpYWxpemVCb3hDb250ZW50cyhib3gpO1xuXG4gICAgICB0aGlzLnNob3dBbmRCaW5kQ2FwdHVyZWRQaWVjZXMoKTtcbiAgICAgIHRoaXMuc2hvd0JvYXJkQW5kQmluZEJveGVzKCk7XG5cbiAgICAgIHRoaXMubW92ZVhvckdldFBvc3NpYmxlTW92ZXMoKTtcblxuICAgICAgdGhpcy5zaG93QW5kQmluZENhcHR1cmVkUGllY2VzKCk7XG4gICAgICB0aGlzLnNob3dCb2FyZEFuZEJpbmRCb3hlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcGllY2VFbGVtXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGkgSW5kZXggb2YgY2FwdHVyZWQgcGllY2UuXG4gICAgICovXG4gICAgc2VsZWN0Q2FwdHVyZWRQaWVjZShwaWVjZUVsZW06IEVsZW1lbnQsIGk6IG51bWJlcik6IHZvaWQge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdG9kb1xuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnNob3dBbmRCaW5kQ2FwdHVyZWRQaWVjZXMoKTtcbiAgICAgICAgdGhpcy5zaG93Qm9hcmRBbmRCaW5kQm94ZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdG9kbyBMb29rIGludG8gRkVOLCBQR04sIFNBTiBhbmQgY29tbW9uIGltcGxlbWVudGF0aW9ucyBvZiBrZWVwaW5nIGhpc3RvcnlcbiAgICAgKi9cbiAgICB1bmRvTW92ZSgpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIHJlZG9Nb3ZlKCk6IHZvaWQge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHRvZG8gQ29uc2lkZXIgRkVOLCBQR04sIFNBTiwgZXRjIGZvciB0aGlzLlxuICAgICAqL1xuICAgIGxvYWRCb2FyZCgpOiB2b2lkIHtcblxuICAgIH1cbiAgICBzYXZlQm9hcmQoKTogdm9pZCB7XG5cbiAgICB9XG59IiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyL2NvbnRyb2xsZXInO1xuY29uc3QgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyOyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=